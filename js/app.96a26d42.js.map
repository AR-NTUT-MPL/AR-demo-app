{"version":3,"file":"js/app.96a26d42.js","mappings":"kEAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,QAAQ,CAACF,EAAG,QAAQ,CAACA,EAAG,SAAS,CAACA,EAAG,cAAc,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACF,EAAG,KAAK,CAACJ,EAAIO,GAAG,0FAA0FH,EAAG,MAAMA,EAAG,KAAK,CAACJ,EAAIO,GAAG,2BAA2BH,EAAG,YAAYA,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACI,YAAY,YAAY,CAACR,EAAIO,GAAG,iCAAiC,IAAI,IAAI,GAAGH,EAAG,UAAU,CAACA,EAAG,cAAc,CAACA,EAAG,SAAS,CAACA,EAAG,eAAe,CAACJ,EAAIO,GAAG,6BAA6BH,EAAG,cAAc,CAACA,EAAG,MAAM,CAACI,YAAY,SAAS,CAACJ,EAAG,OAAO,CAACJ,EAAIO,GAAG,eAAeH,EAAG,MAAM,CAACJ,EAAIO,GAAG,UAAUH,EAAG,OAAO,CAACJ,EAAIO,GAAG,kBAAkBH,EAAG,MAAM,CAACJ,EAAIO,GAAG,SAASH,EAAG,OAAO,CAACJ,EAAIO,GAAG,gBAAgBH,EAAG,MAAM,CAACJ,EAAIO,GAAG,SAASH,EAAG,OAAO,CAACJ,EAAIO,GAAG,gBAAgBH,EAAG,MAAM,CAACJ,EAAIO,GAAG,SAASH,EAAG,OAAO,CAACJ,EAAIO,GAAG,gBAAgBH,EAAG,MAAM,CAACJ,EAAIO,GAAG,SAASH,EAAG,OAAO,CAACJ,EAAIO,GAAG,kBAAkBH,EAAG,MAAM,CAACJ,EAAIO,GAAG,SAASH,EAAG,OAAO,CAACJ,EAAIO,GAAG,kBAAkBH,EAAG,MAAM,CAACJ,EAAIO,GAAG,SAASH,EAAG,OAAO,CAACJ,EAAIO,GAAG,kBAAkBH,EAAG,MAAM,CAACJ,EAAIO,GAAG,WAAWH,EAAG,MAAM,CAACA,EAAG,IAAI,CAACA,EAAG,MAAM,CAACJ,EAAIO,GAAG,OAAOP,EAAIO,GAAG,uHAAuHH,EAAG,MAAMA,EAAG,MAAM,CAACJ,EAAIO,GAAG,OAAOP,EAAIO,GAAG,wFAAwFH,EAAG,YAAY,CAACI,YAAY,SAASJ,EAAG,cAAc,CAACA,EAAG,KAAK,CAACJ,EAAIO,GAAG,cAAcH,EAAG,IAAI,CAACJ,EAAIO,GAAG,8vBAA8vBH,EAAG,IAAI,CAACA,EAAG,SAAS,CAACJ,EAAIO,GAAG,eAAeP,EAAIO,GAAG,6GAA6G,IAAI,IAAI,GAAGH,EAAG,QAAQA,EAAG,SAAS,CAACA,EAAG,cAAc,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,IAAI,CAACJ,EAAIO,GAAG,6BAA6BH,EAAG,IAAI,CAACK,YAAY,CAAC,MAAQ,SAASH,MAAM,CAAC,KAAO,mCAAmC,CAACN,EAAIO,GAAG,6BAA6BH,EAAG,MAAMJ,EAAIO,GAAG,qCAAqCH,EAAG,IAAI,CAACJ,EAAIO,GAAG,wDAAwDH,EAAG,QAAQ,CAACA,EAAG,IAAI,CAACJ,EAAIO,GAAG,8HAA8HH,EAAG,IAAI,CAACJ,EAAIO,GAAG,0BAA0B,IAAI,IAAI,IAAI,IAAI,EAAE,EACz9FG,EAAkB,GCDlB,EAAS,WAAa,IAAIV,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAACA,EAAG,cAAc,CAACA,EAAG,SAAS,CAACA,EAAG,eAAe,CAACJ,EAAIO,GAAG,oBAAoBH,EAAG,cAAc,CAACA,EAAG,QAAQ,CAACI,YAAY,QAAQ,CAACJ,EAAG,QAAQ,CAACI,YAAY,OAAOF,MAAM,CAAC,KAAO,IAAI,GAAK,MAAM,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,aAAa,OAAS,MAAMK,MAAM,CAACC,MAAOZ,EAAIa,MAAgB,WAAEC,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIa,MAAO,aAAcb,EAAIiB,GAAGF,GAAK,EAAEG,WAAW,uBAAuB,GAAGd,EAAG,QAAQ,CAACI,YAAY,OAAOF,MAAM,CAAC,KAAO,IAAI,GAAK,MAAM,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,oBAAoBK,MAAM,CAACC,MAAOZ,EAAIa,MAAc,SAAEC,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIa,MAAO,WAAYb,EAAIiB,GAAGF,GAAK,EAAEG,WAAW,qBAAqB,GAAGd,EAAG,QAAQ,CAACI,YAAY,OAAOF,MAAM,CAAC,KAAO,KAAK,GAAK,IAAI,GAAK,MAAM,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,MAAQ,MAAM,IAAM,IAAI,IAAM,MAAM,KAAO,IAAI,cAAc,IAAIa,YAAYnB,EAAIoB,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,WAAW,MAAO,CAAClB,EAAG,eAAe,CAACI,YAAY,YAAYF,MAAM,CAAC,MAAQ,GAAG,OAAS,WAAWK,MAAM,CAACC,MAAOZ,EAAIa,MAAS,IAAEC,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIa,MAAO,MAAOb,EAAIiB,GAAGF,GAAK,EAAEG,WAAW,eAAe,EAAEK,OAAM,KAAQZ,MAAM,CAACC,MAAOZ,EAAIa,MAAS,IAAEC,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIa,MAAO,MAAOE,EAAI,EAAEG,WAAW,gBAAgB,GAAGd,EAAG,QAAQ,CAACI,YAAY,OAAOF,MAAM,CAAC,KAAO,KAAK,GAAK,IAAI,GAAK,MAAM,CAACF,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,UAAUK,MAAM,CAACC,MAAOZ,EAAIa,MAAMW,OAAO,GAAIV,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIa,MAAMW,OAAQ,EAAGxB,EAAIiB,GAAGF,GAAK,EAAEG,WAAW,sBAAsB,GAAGd,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACO,MAAM,CAACC,MAAOZ,EAAIa,MAAMW,OAAO,GAAIV,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIa,MAAMW,OAAQ,EAAGxB,EAAIiB,GAAGF,GAAK,EAAEG,WAAW,sBAAsB,IAAI,IAAI,IAAI,GAAGd,EAAG,QAAQ,CAACI,YAAY,SAAS,CAACJ,EAAG,QAAQ,CAACI,YAAY,OAAOF,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,MAAQ,WAAW,MAAQ,GAAG,IAAM,KAAK,IAAM,IAAI,KAAO,MAAM,cAAc,IAAIa,YAAYnB,EAAIoB,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,WAAW,MAAO,CAAClB,EAAG,eAAe,CAACI,YAAY,YAAYC,YAAY,CAAC,MAAQ,QAAQH,MAAM,CAAC,MAAQ,IAAIK,MAAM,CAACC,MAAOZ,EAAIa,MAAMY,OAAO,GAAIX,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIa,MAAMY,OAAQ,EAAGzB,EAAIiB,GAAGF,GAAK,EAAEG,WAAW,qBAAqB,EAAEK,OAAM,KAAQZ,MAAM,CAACC,MAAOZ,EAAIa,MAAMY,OAAO,GAAIX,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIa,MAAMY,OAAQ,EAAGV,EAAI,EAAEG,WAAW,sBAAsB,GAAGd,EAAG,QAAQ,CAACI,YAAY,OAAOF,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,MAAQ,WAAW,MAAQ,GAAG,IAAM,KAAK,IAAM,IAAI,KAAO,OAAOa,YAAYnB,EAAIoB,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,WAAW,MAAO,CAAClB,EAAG,eAAe,CAACI,YAAY,YAAYC,YAAY,CAAC,MAAQ,QAAQH,MAAM,CAAC,MAAQ,GAAG,cAAc,IAAIK,MAAM,CAACC,MAAOZ,EAAIa,MAAMY,OAAO,GAAIX,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIa,MAAMY,OAAQ,EAAGzB,EAAIiB,GAAGF,GAAK,EAAEG,WAAW,qBAAqB,EAAEK,OAAM,KAAQZ,MAAM,CAACC,MAAOZ,EAAIa,MAAMY,OAAO,GAAIX,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIa,MAAMY,OAAQ,EAAGV,EAAI,EAAEG,WAAW,sBAAsB,IAAI,IAAI,IAAI,IAAI,IAAI,GAAGd,EAAG,UAAU,CAACA,EAAG,cAAc,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,MAAM,CAACF,EAAG,SAAS,CAACA,EAAG,eAAe,CAACJ,EAAIO,GAAG,cAAcH,EAAG,cAAc,CAACA,EAAG,IAAI,CAACJ,EAAIO,GAAG,0CAA0CH,EAAG,SAAS,CAACE,MAAM,CAAC,GAAKN,EAAIa,MAAMa,GAAG,GAAK1B,EAAIa,MAAMc,GAAG,GAAK3B,EAAI4B,GAAG,GAAK5B,EAAI6B,GAAG,GAAK7B,EAAI8B,GAAG,GAAK9B,EAAI+B,GAAG,SAAW/B,EAAIa,MAAMmB,UAAUC,GAAG,CAAC,YAAY,SAASC,GAAQ,OAAOlC,EAAIgB,KAAKhB,EAAIa,MAAO,KAAMqB,EAAO,EAAE,YAAY,SAASA,GAAQ,OAAOlC,EAAIgB,KAAKhB,EAAIa,MAAO,KAAMqB,EAAO,KAAK9B,EAAG,cAAc,CAACA,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,OAAOF,EAAG,QAAQ,CAACA,EAAG,UAAU,CAACJ,EAAIO,GAAG,aAAa,GAAGH,EAAG,QAAQ,CAACA,EAAG,UAAU,CAACJ,EAAIO,GAAG,YAAY,IAAI,GAAGH,EAAG,QAAQ,CAACI,YAAY,SAAS,CAACJ,EAAG,QAAQ,CAACI,YAAY,kBAAkBF,MAAM,CAAC,KAAO,MAAM,CAACF,EAAG,UAAU,CAACJ,EAAIO,GAAG,WAAW,GAAGH,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACI,YAAY,YAAYF,MAAM,CAAC,MAAQ,IAAI2B,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOlC,EAAImC,sBAAsB,KAAMD,EAAO,GAAGvB,MAAM,CAACC,MAAOZ,EAAa,UAAEc,SAAS,SAAUC,GAAMf,EAAIoC,UAAUpC,EAAIiB,GAAGF,EAAI,EAAEG,WAAW,gBAAgB,GAAGd,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACI,YAAY,YAAYF,MAAM,CAAC,MAAQ,IAAI2B,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOlC,EAAIqC,qBAAqB,KAAMH,EAAO,GAAGvB,MAAM,CAACC,MAAOZ,EAAY,SAAEc,SAAS,SAAUC,GAAMf,EAAIsC,SAAStC,EAAIiB,GAAGF,EAAI,EAAEG,WAAW,eAAe,IAAI,GAAGd,EAAG,QAAQ,CAACI,YAAY,SAAS,CAACJ,EAAG,QAAQ,CAACI,YAAY,kBAAkBF,MAAM,CAAC,KAAO,MAAM,CAACF,EAAG,UAAU,CAACJ,EAAIO,GAAG,YAAY,GAAGH,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACI,YAAY,YAAYF,MAAM,CAAC,MAAQ,GAAG,SAAW,IAAIK,MAAM,CAACC,MAAOZ,EAAa,UAAEc,SAAS,SAAUC,GAAMf,EAAIuC,UAAUvC,EAAIiB,GAAGF,EAAI,EAAEG,WAAW,gBAAgB,GAAGd,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACI,YAAY,YAAYF,MAAM,CAAC,MAAQ,GAAG,SAAW,IAAIK,MAAM,CAACC,MAAOZ,EAAY,SAAEc,SAAS,SAAUC,GAAMf,EAAIwC,SAASxC,EAAIiB,GAAGF,EAAI,EAAEG,WAAW,eAAe,IAAI,GAAGd,EAAG,QAAQ,CAACI,YAAY,SAAS,CAACJ,EAAG,QAAQ,CAACI,YAAY,kBAAkBF,MAAM,CAAC,KAAO,MAAM,CAACF,EAAG,UAAU,CAACJ,EAAIO,GAAG,YAAY,GAAGH,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACI,YAAY,YAAYF,MAAM,CAAC,MAAQ,IAAI2B,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOlC,EAAImC,sBAAsB,KAAMD,EAAO,GAAGvB,MAAM,CAACC,MAAOZ,EAAa,UAAEc,SAAS,SAAUC,GAAMf,EAAIyC,UAAUzC,EAAIiB,GAAGF,EAAI,EAAEG,WAAW,gBAAgB,GAAGd,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACI,YAAY,YAAYF,MAAM,CAAC,MAAQ,IAAI2B,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOlC,EAAIqC,qBAAqB,KAAMH,EAAO,GAAGvB,MAAM,CAACC,MAAOZ,EAAY,SAAEc,SAAS,SAAUC,GAAMf,EAAI0C,SAAS1C,EAAIiB,GAAGF,EAAI,EAAEG,WAAW,eAAe,IAAI,IAAI,GAAGd,EAAG,IAAI,CAACJ,EAAIO,GAAG,2DAA2D,IAAI,GAAGH,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,MAAM,CAACF,EAAG,SAAS,CAACA,EAAG,eAAe,CAACJ,EAAIO,GAAG,cAAcH,EAAG,cAAc,CAACA,EAAG,IAAI,CAACJ,EAAIO,GAAG,wCAAwCH,EAAG,SAAS,CAACE,MAAM,CAAC,OAASN,EAAIa,MAAM8B,OAAO,QAAU3C,EAAIa,MAAM+B,QAAQ,UAAY5C,EAAI6C,UAAU,UAAY7C,EAAI8C,UAAU,QAAU9C,EAAIa,MAAMkC,QAAQ,SAAW/C,EAAIa,MAAMmC,SAAS,WAAahD,EAAIiD,WAAW,WAAajD,EAAIkD,WAAW,UAAYlD,EAAImD,UAAU,iBAAmBnD,EAAIoD,kBAAkBnB,GAAG,CAAC,gBAAgB,SAASC,GAAQ,OAAOlC,EAAIgB,KAAKhB,EAAIa,MAAO,SAAUqB,EAAO,EAAE,iBAAiB,SAASA,GAAQ,OAAOlC,EAAIgB,KAAKhB,EAAIa,MAAO,UAAWqB,EAAO,EAAE,iBAAiB,SAASA,GAAQ,OAAOlC,EAAIgB,KAAKhB,EAAIa,MAAO,UAAWqB,EAAO,EAAE,kBAAkB,SAASA,GAAQ,OAAOlC,EAAIgB,KAAKhB,EAAIa,MAAO,WAAYqB,EAAO,KAAK9B,EAAG,cAAc,CAACA,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,OAAOF,EAAG,QAAQ,CAACA,EAAG,UAAU,CAACJ,EAAIO,GAAG,QAAQ,GAAGH,EAAG,QAAQ,CAACA,EAAG,UAAU,CAACJ,EAAIO,GAAG,QAAQ,GAAGH,EAAG,QAAQ,CAACA,EAAG,UAAU,CAACJ,EAAIO,GAAG,QAAQ,IAAI,GAAGH,EAAG,QAAQ,CAACI,YAAY,SAAS,CAACJ,EAAG,QAAQ,CAACI,YAAY,kBAAkBF,MAAM,CAAC,KAAO,MAAM,CAACF,EAAG,UAAU,CAACJ,EAAIO,GAAG,SAAS,GAAGH,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACI,YAAY,YAAYF,MAAM,CAAC,MAAQ,IAAIK,MAAM,CAACC,MAAOZ,EAAIa,MAAM8B,OAAO,GAAI7B,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIa,MAAM8B,OAAQ,EAAG3C,EAAIiB,GAAGF,GAAK,EAAEG,WAAW,sBAAsB,GAAGd,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACI,YAAY,YAAYF,MAAM,CAAC,MAAQ,IAAIK,MAAM,CAACC,MAAOZ,EAAIa,MAAM8B,OAAO,GAAI7B,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIa,MAAM8B,OAAQ,EAAG3C,EAAIiB,GAAGF,GAAK,EAAEG,WAAW,sBAAsB,GAAGd,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACI,YAAY,YAAYF,MAAM,CAAC,MAAQ,IAAIK,MAAM,CAACC,MAAOZ,EAAIa,MAAiB,YAAEC,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIa,MAAO,cAAeb,EAAIiB,GAAGF,GAAK,EAAEG,WAAW,wBAAwB,IAAI,GAAGd,EAAG,QAAQ,CAACI,YAAY,SAAS,CAACJ,EAAG,QAAQ,CAACI,YAAY,kBAAkBF,MAAM,CAAC,KAAO,MAAM,CAACF,EAAG,UAAU,CAACJ,EAAIO,GAAG,UAAU,GAAGH,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACI,YAAY,YAAYF,MAAM,CAAC,MAAQ,IAAIK,MAAM,CAACC,MAAOZ,EAAIa,MAAMkC,QAAQ,GAAIjC,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIa,MAAMkC,QAAS,EAAG/C,EAAIiB,GAAGF,GAAK,EAAEG,WAAW,uBAAuB,GAAGd,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACI,YAAY,YAAYF,MAAM,CAAC,MAAQ,IAAIK,MAAM,CAACC,MAAOZ,EAAIa,MAAMkC,QAAQ,GAAIjC,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIa,MAAMkC,QAAS,EAAG/C,EAAIiB,GAAGF,GAAK,EAAEG,WAAW,uBAAuB,GAAGd,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACI,YAAY,YAAYF,MAAM,CAAC,MAAQ,IAAIK,MAAM,CAACC,MAAOZ,EAAIa,MAAkB,aAAEC,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIa,MAAO,eAAgBb,EAAIiB,GAAGF,GAAK,EAAEG,WAAW,yBAAyB,IAAI,GAAGd,EAAG,QAAQ,CAACI,YAAY,SAAS,CAACJ,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACI,YAAY,SAAS,CAACJ,EAAG,QAAQ,CAACA,EAAG,WAAW,CAACE,MAAM,CAAC,MAAQN,EAAIqD,YAAY,MAAQ,WAAW,MAAQ,IAAI1C,MAAM,CAACC,MAAOZ,EAAIa,MAAmB,cAAEC,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIa,MAAO,gBAAiBE,EAAI,EAAEG,WAAW,0BAA0B,IAAI,GAAGd,EAAG,QAAQ,CAACI,YAAY,SAAS,CAACJ,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACI,YAAY,YAAYF,MAAM,CAAC,MAAQ,GAAG,MAAQ,SAASK,MAAM,CAACC,MAAOZ,EAAIa,MAAM+B,QAAQ,GAAI9B,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIa,MAAM+B,QAAS,EAAG5C,EAAIiB,GAAGF,GAAK,EAAEG,WAAW,uBAAuB,GAAGd,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACI,YAAY,YAAYF,MAAM,CAAC,MAAQ,GAAG,MAAQ,UAAUK,MAAM,CAACC,MAAOZ,EAAIa,MAAM+B,QAAQ,GAAI9B,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIa,MAAM+B,QAAS,EAAG5C,EAAIiB,GAAGF,GAAK,EAAEG,WAAW,uBAAuB,IAAI,IAAI,GAAGd,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACI,YAAY,SAAS,CAACJ,EAAG,QAAQ,CAACA,EAAG,WAAW,CAACE,MAAM,CAAC,MAAQN,EAAIqD,YAAY,MAAQ,YAAY,MAAQ,IAAI1C,MAAM,CAACC,MAAOZ,EAAIa,MAAoB,eAAEC,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIa,MAAO,iBAAkBE,EAAI,EAAEG,WAAW,2BAA2B,IAAI,GAAGd,EAAG,QAAQ,CAACI,YAAY,SAAS,CAACJ,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACI,YAAY,YAAYF,MAAM,CAAC,MAAQ,GAAG,MAAQ,SAASK,MAAM,CAACC,MAAOZ,EAAIa,MAAMmC,SAAS,GAAIlC,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIa,MAAMmC,SAAU,EAAGhD,EAAIiB,GAAGF,GAAK,EAAEG,WAAW,wBAAwB,GAAGd,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACI,YAAY,YAAYF,MAAM,CAAC,MAAQ,GAAG,MAAQ,UAAUK,MAAM,CAACC,MAAOZ,EAAIa,MAAMmC,SAAS,GAAIlC,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIa,MAAMmC,SAAU,EAAGhD,EAAIiB,GAAGF,GAAK,EAAEG,WAAW,wBAAwB,IAAI,IAAI,IAAI,IAAI,MAAM,IAAI,IAAI,IAAI,IAAI,GAAGd,EAAG,UAAU,CAACA,EAAG,cAAc,CAACA,EAAG,SAAS,CAACA,EAAG,eAAe,CAACJ,EAAIO,GAAG,qBAAqBH,EAAG,cAAc,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,mBAAmB,MAAQ,IAAI2B,GAAG,CAAC,OAASjC,EAAIsD,4BAA4B,IAAI,IAAI,IAAI,IAAI,IAAI,GAAGlD,EAAG,UAAU,CAACA,EAAG,cAAc,CAACA,EAAG,SAAS,CAACA,EAAG,eAAe,CAACJ,EAAIO,GAAG,kBAAkBH,EAAG,cAAc,CAACJ,EAAIuD,GAAIC,OAAOC,KAAKzD,EAAIa,QAAQ,SAAS6C,GAAM,MAAO,CAACtD,EAAG,QAAQ,CAACiB,IAAIqC,EAAKlD,YAAY,SAAS,CAACJ,EAAG,QAAQ,CAACI,YAAY,aAAaF,MAAM,CAAC,KAAO,IAAI,GAAK,MAAM,CAACF,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAMoD,IAAO,CAAC1D,EAAIO,GAAGP,EAAI2D,GAAGD,GAAM,UAAUtD,EAAG,QAAQ,CAAEJ,EAAI4D,QAAQ5D,EAAIa,MAAM6C,IAAQ1D,EAAIuD,GAAIvD,EAAIa,MAAM6C,IAAO,SAASG,EAAKC,GAAG,OAAO1D,EAAG,OAAO,CAACiB,IAAIyC,GAAG,CAAC1D,EAAG,QAAQ,CAAC2D,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,iBAAiBrD,MAAOZ,EAAIa,MAAM6C,GAAMI,GAAI5C,WAAW,iBAAiBgD,UAAU,CAAC,QAAS,KAAQ5D,MAAM,CAAC,KAAOoD,EAAK,KAAO,QAAQS,SAAS,CAAC,MAASnE,EAAIa,MAAM6C,GAAMI,IAAK7B,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOkC,OAAOC,WAAqBrE,EAAIgB,KAAKhB,EAAIa,MAAM6C,GAAOI,EAAG9D,EAAIiB,GAAGiB,EAAOkC,OAAOxD,OAAO,EAAE,KAAO,SAASsB,GAAQ,OAAOlC,EAAIsE,cAAc,MAAM,IAAG,CAAClE,EAAG,QAAQ,CAAC2D,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,iBAAiBrD,MAAOZ,EAAIa,MAAM6C,GAAOxC,WAAW,cAAcgD,UAAU,CAAC,QAAS,KAAQ5D,MAAM,CAAC,KAAOoD,EAAK,KAAO,QAAQS,SAAS,CAAC,MAASnE,EAAIa,MAAM6C,IAAQzB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOkC,OAAOC,WAAqBrE,EAAIgB,KAAKhB,EAAIa,MAAO6C,EAAM1D,EAAIiB,GAAGiB,EAAOkC,OAAOxD,OAAO,EAAE,KAAO,SAASsB,GAAQ,OAAOlC,EAAIsE,cAAc,OAAO,IAAI,GAAG,KAAI,IAAI,IAAI,IAAI,GAAGlE,EAAG,MAAM,CAACE,MAAM,CAAC,OAAS,KAAK,CAACN,EAAIO,GAAG,IAAIP,EAAI2D,GAAG3D,EAAIuE,gBAAgB,QAAQ,EAC9tW,EAAkB,GCDlB,EAAS,WAAa,IAAIvE,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACoE,IAAI,QAAQ,CAACpE,EAAG,SAAS,CAACoE,IAAI,SAAShE,YAAY,SAASF,MAAM,CAAC,MAAQ,MAAM,OAAS,SAASF,EAAG,MAAM,CAACE,MAAM,CAAC,OAAS,KAAK,CAACN,EAAIO,GAAG,IAAIP,EAAI2D,GAAG3D,EAAIyE,UAAU,IAAIzE,EAAI2D,GAAG3D,EAAI0E,UAAU,IAAI1E,EAAI2D,GAAG3D,EAAI2E,QAAQ,IAAI3E,EAAI2D,GAAG3D,EAAI4E,cAAc,QAAQ,EAC9V,EAAkB,G,UCCtB,GACIC,OACI,MAAO,CAEHC,OAAQ,KACRC,OAAO,EAEf,EACAC,UACI/E,KAAK8E,OAAQ,EACb9E,KAAK6E,OAAS,IAAIG,EAAO,OAAPA,OAAchF,KAAKiF,MAAMJ,QAE3CK,OAAOC,iBAAiB,SAAUnF,KAAKoF,cACvCpF,KAAKqF,QACT,EACAC,YACItF,KAAK8E,OAAQ,EACb9E,KAAK6E,OAAOU,UACZL,OAAOM,oBAAoB,SAAUxF,KAAKoF,aAC9C,EACAK,QAAS,CACLL,eACIpF,KAAKqF,QACT,EACAA,SACI,EAGJK,cAAcC,GACV,MAAM,MAAEC,EAAK,OAAEC,EAAM,KAAEC,EAAI,IAAEC,GAAQJ,EAAQK,kBACvCC,EAA4D,EAAnDC,KAAKC,IAAID,KAAKE,IAAIN,GAAOI,KAAKE,IAAIN,EAAOF,IAClDS,EAA4D,EAAlDH,KAAKC,IAAID,KAAKE,IAAIL,GAAMG,KAAKE,IAAIL,EAAMF,IACvDF,EACKW,IAAI,CACDV,MAAOK,EACPJ,OAAQQ,IAGXE,WACT,ICzCR,SAASC,EAAS3F,EAAU4F,GACxB,IAAIC,EAAY,KACZC,EAAW,KACXC,EAAc,KAElB,SAASC,IACL,MAAMC,EAAM9G,KACN+G,EAAOC,UACb,IAAIC,GAAM,IAAIC,MAAOC,UAerB,OAbAC,aAAaT,IAERD,GAAaO,EAAMP,EAAYD,GAEhCG,EAAc/F,EAASwG,MAAMP,EAAKC,GAClCL,EAAYO,GAGZN,EAAWW,YAAW,KAClBV,EAAc/F,EAASwG,MAAMP,EAAKC,GAClCL,EAAY,IAAI,GACjBD,GAEAG,CACX,CACA,OAAOC,CACX,CAGA,SAASU,EAAe1G,GACpB,IAAI2G,EAAU,KACVC,GAAO,EACX,SAASC,IACL,MAAMZ,EAAM9G,KACN+G,EAAOC,UAIb,GAFAI,aAAaI,IAETC,EASJ,OAFAA,GAAO,EAEA,IAAIE,SAAQC,IACf/G,EAASwG,MAAMP,EAAKC,GAAMc,MAAK,KAC3BD,EAAKZ,UAAU,IAChBc,SAAQ,KACPL,GAAO,CAAK,GACd,IAbFD,EAAUF,YAAW,KACjBI,EAAOL,MAAMP,EAAKC,EAAK,GACxB,EAaX,CACA,OAAOW,CACX,C,cCxDA,SAASK,EAAMC,GACX,IAAIC,EAAI,EACR,IAAK,IAAIC,KAAKF,EACVC,GAAGC,GAAG,EAEV,OAAOD,CACX,CAEA,SAASE,EAAIH,GACT,OAAO9B,KAAKkC,KAAKL,EAAMC,GAC3B,CCNAK,EAAAA,IAAc,OAEd,MAAMzG,EAAK,SAAUD,EAAI2G,EAAKC,EAAUC,EAAUC,EAAUC,GACxD,MAAMC,EAAWR,EAAI,CAACM,EAAUC,IAC1BE,EAAID,EAAW,EAAIzC,KAAK2C,IAAIP,EAAM,GAElCQ,EAAgB,GAAXL,EAAiBF,EACtBQ,EAAgB,GAAXL,EAAiBF,EACtB9D,EAASsE,GAAaF,GAAKC,GAC5BN,EAA0B,EAAfvC,KAAKE,IAAI0C,IACpBJ,EAA0B,EAAfxC,KAAKE,IAAI2C,GAAS,GAElC,OADAV,EAAAA,IAAW,CAACS,EAAIC,IACTrE,EAAOuE,IAAIvE,EAAOwE,IAAI,GAAGC,IAAI,GAAGC,IAAIR,GAAK,GAAGR,QAAQiB,IAAI1H,EACnE,EAEM2H,EAAc,SAAUC,EAAGC,GAC7B,OAAOnB,EAAAA,IAAOA,EAAAA,IAAUkB,GAAIlB,EAAAA,IAAU,CAAC,CAACmB,EAAE,IAAK,CAACA,EAAE,MACtD,EAEMC,EAAgB,SAAUC,EAAOC,EAAO,MAC1C,MAAMC,EAAIvB,EAAAA,IAAQA,EAAAA,IAAOqB,GAAQC,GAC3BE,EAAIxB,EAAAA,IAAQA,EAAAA,IAAOqB,GAAQC,GACjC,OAAOtB,EAAAA,IAASwB,EAAGD,EACvB,EAEME,EAAgB,SAAUP,GAC5B,MAAMG,EAAQrB,EAAAA,IAASkB,EAAE,GAAIA,EAAE,IACzBQ,EAAmBL,EAAMM,IAAIP,EAAcC,IAAQN,IAAIlD,KAAK+D,IAAIC,IAAc,EAAVhE,KAAK+D,IAAQD,IAAI9D,KAAK+D,IAC1FE,EAAS9B,EAAAA,IAAU0B,GAAkBK,YACrCC,EAAShC,EAAAA,IAAU0B,GAAkBK,YAE3C,OADA/B,EAAAA,IAAW,CAACqB,EAAOK,IACZ,CAACI,EAAQE,EACpB,EAGMC,EAAK,SAAUf,EAAG5H,GACpB,OAAO0G,EAAAA,IAAQA,EAAAA,IAAO1G,GAAM,EAAG0G,EAAAA,IAAOkB,EAAGA,GAAGJ,IAAI,IACpD,EAEMoB,EAAU,SAAUhB,EAAG5H,GACzB,OAAO0G,EAAAA,IAAOkB,EAAGe,EAAGf,EAAG5H,GAC3B,EAGA,SAAS6I,EAASC,EAAQd,EAAO,MAC7B,OAAOtB,EAAAA,IAAU,CAACA,EAAAA,IAAOoC,EAAQd,GAAM,GAAOtB,EAAAA,IAAOoC,EAAQd,GAAM,IAAQA,EAC/E,CAGA,MAAMe,EAAYC,eAAgBjI,EAAQkI,EAAUC,EAAa/H,EAASgI,EAAWC,EAAcpJ,EAAIC,EAAIC,EAAIC,GAC3G,MAAMkJ,EAAMT,EAAQ3I,EAAID,GAAI0H,IAAIwB,GAC1BI,EAAOV,EAAQ3I,EAAID,GAAI0H,KAAK0B,GAE5BG,EAAW7C,EAAAA,IAAc3F,EAAQ,GAAG0G,IAAI4B,GACxCG,EAAY9C,EAAAA,IAAcvF,EAAS,GAAGsG,IAAI6B,GAE1CG,EAAK/C,EAAAA,IAAO8C,EAAWD,GACvBG,EAAMhD,EAAAA,IAAO,CAACxG,EAAG,GAAIA,EAAG,IAAK,CAAC,EAAE,GAAI,CAAC,KACrCyJ,EAAMjD,EAAAA,IAAO,CAACvG,EAAG,GAAIA,EAAG,IAAK,CAAC,EAAE,GAAI,CAAC,KAErCyJ,EAAYJ,EAAUnB,IACxB3B,EAAAA,IAAQvG,EAAI,WACPuH,IAAIhB,EAAAA,IAAO+C,EAAIC,GAAKlC,IAAI,IACxBF,IAAIZ,EAAAA,IAAOvG,EAAIuJ,GAAKlC,IAAI,KAG3BqC,EAAOhB,EAASnC,EAAAA,IAAOA,EAAAA,IAAcuC,EAAU,GAAIvC,EAAAA,IAAcgD,EAAK,IAAIlC,IAAI,GAAI,GACnFE,IAAIhB,EAAAA,IAAOgD,EAAKvJ,GAAIqH,IAAI,GACpBF,IAAIZ,EAAAA,IAAOgD,EAAKA,GAAKlC,IAAI,IACzBF,IAAIZ,EAAAA,IAAOvG,EAAIA,GAAIqH,IAAI,IAAIsC,WAAW,IAGzCC,EAAOlB,EAASnC,EAAAA,IAAOA,EAAAA,IAAcyC,EAAW,GAAIzC,EAAAA,IAAciD,EAAK,IAAInC,IAAI,GAAI,GACpFE,IAAIhB,EAAAA,IAAOiD,EAAKzJ,GAAIsH,IAAI,GACpBF,IAAIZ,EAAAA,IAAOiD,EAAKA,GAAKnC,IAAI,IACzBF,IAAIZ,EAAAA,IAAOxG,EAAIA,GAAIsH,IAAI,IAAIsC,WAAW,IAE/CpD,EAAAA,IACI+C,EAAIC,EAAKC,EAAKC,GAGlB,MAAMI,EAAMtD,EAAAA,IAAOqD,EAAKE,OAAO,EAAG,GAAI/J,GAChCgK,EAAMxD,EAAAA,IAAOqD,EAAKE,OAAO,EAAG,GAAI/J,GAChCiK,EAAMzD,EAAAA,IAAOmD,EAAKI,OAAO,EAAG,GAAI9J,GAChCiK,EAAM1D,EAAAA,IAAOmD,EAAKI,OAAO,EAAG,GAAI9J,GAEhCoB,QAAkB8I,EAAc3D,EAAAA,IAAU,CAC5CkD,EAAUnC,IAAIuC,GAAKvC,IAAI0C,GACvBP,EAAUnC,IAAIyC,GAAKzC,IAAI0C,GACvBP,EAAUnC,IAAIuC,GAAKvC,IAAI2C,GACvBR,EAAUnC,IAAIyC,GAAKzC,IAAI2C,IACxB,IAAIE,QAEDpJ,QAAkBqJ,EAAUlB,EAAKJ,GAAUqB,QAC3ChJ,QAAmBiJ,EAAUjB,EAAMH,GAAWmB,QAOpD,OAJA5D,EAAAA,IACIqD,EAAMF,EAAMG,EAAKE,EAAKC,EAAKC,GAGxB,CAAClJ,EAAWK,EAAWD,EAClC,ECvGA,SAAS+F,EAAYY,EAAGC,EAAGsC,EAAGC,EAAGC,GAC/B,IAAIC,EAAIjE,EAAAA,IAAS,EAAGgE,EAAU,GAAGpD,IAAIoD,GAASrC,IAAI,IAC9CuC,EAAKD,EAAEE,UAEXF,EAAIA,EAAEG,MAAM,EAAGJ,GACfE,EAAKA,EAAGE,MAAM,EAAGJ,GAEjB,IAAIK,EAAIrE,EAAAA,IAAQ,CAACgE,IAAUhD,IAAI,IAC3BsD,EAAKD,EAAErD,KAAK,GACZuD,EAAKvE,EAAAA,IAAY,CAACiE,EAAGI,EAAGH,EAAII,IAAKtD,IAAI8C,GAAG/C,IAAIQ,GAC5CiD,EAAKxE,EAAAA,IAAY,CAACsE,EAAIL,EAAGI,EAAGH,IAAKlD,IAAI+C,GAAGhD,IAAIS,GAChD,OAAOxB,EAAAA,IAAY,CAACuE,EAAGnB,WAAW,GAAIoB,EAAGpB,WAAW,IACtD,CAEA,SAASqB,EAASlD,EAAGC,EAAGsC,EAAGC,EAAGC,GAC5B,IAAIU,EAAI1E,EAAAA,IAAS,EAAGgE,GAASpD,IAAIoD,GAAShD,IAAc,EAAVnD,KAAK+D,IAC/C2C,EAAKvE,EAAAA,IAAO0E,GAAG1D,IAAI8C,EAAI,GAAG/C,IAAIQ,GAC9BiD,EAAKxE,EAAAA,IAAO0E,GAAG1D,IAAI+C,EAAI,GAAGhD,IAAIS,GAClC,OAAOxB,EAAAA,IAAY,CAACuE,EAAGnB,WAAW,GAAIoB,EAAGpB,WAAW,IACtD,CAGA,SAASuB,EAAaC,EAAOC,GAC3B,IAAIxI,EAAS,GACb,IAAK,IAAIb,EAAI,EAAGA,EAAIoJ,EAAM,GAAGE,OAAQtJ,IACnCa,EAAO0I,KAAK,CACVxD,EAAGqD,EAAM,GAAGpJ,GAAKqJ,EACjBrD,GAAIoD,EAAM,GAAGpJ,GAAKqJ,IAGtB,OAAOxI,CACT,CAGA,SAAS2I,EAAoB9D,EAAG2D,GAC9B,IAAK/C,EAAQE,GAAUP,EAAcP,GACrC,MAAO,CACL,CAAEK,EAAG,EAAGC,EAAG,GACX,CACED,EAAGL,EAAE,GAAGY,GAAU+C,EAClBrD,GAAIN,EAAE,GAAGY,GAAU+C,GAErB,CACEtD,EAAGL,EAAE,GAAGc,GAAU6C,EAClBrD,GAAIN,EAAE,GAAGc,GAAU6C,GAGzB,CAGA,SAASI,EAAMZ,EAAGK,EAAGQ,GACnB,OAAQR,EAAE,GAAKL,EAAE,KAAOa,EAAE,GAAKb,EAAE,KAAOK,EAAE,GAAKL,EAAE,KAAOa,EAAE,GAAKb,EAAE,GACnE,CAEA,SAASc,EAASP,GAChB,IAAIQ,EAAI,GACR,IAAK,IAAI5J,EAAI,EAAGA,EAAIoJ,EAAM,GAAGE,OAAQtJ,IAAK4J,EAAEL,KAAKvJ,GAEjD4J,EAAEC,MAAK,CAACX,EAAGQ,IACLN,EAAM,GAAGF,GAAKE,EAAM,GAAGM,IAAY,EACnCN,EAAM,GAAGF,GAAKE,EAAM,GAAGM,GAAW,EAC/BN,EAAM,GAAGF,GAAKE,EAAM,GAAGM,KAGhC,IAAII,EAAI,GACJC,EAAI,GAER,IAAK,IAAI/J,KAAK4J,EAAG,CACf,MAAOG,EAAET,QAAU,GAAKG,EACtB,CAACL,EAAM,GAAGW,EAAEA,EAAET,OAAS,IAAKF,EAAM,GAAGW,EAAEA,EAAET,OAAS,KAClD,CAACF,EAAM,GAAGW,EAAEA,EAAET,OAAS,IAAKF,EAAM,GAAGW,EAAEA,EAAET,OAAS,KAClD,CAACF,EAAM,GAAGpJ,GAAIoJ,EAAM,GAAGpJ,MACpB,EAAG+J,EAAEC,MACV,MAAOD,EAAET,QAAU,GAAKG,EACtB,CAACL,EAAM,GAAGU,EAAEA,EAAER,OAAS,IAAKF,EAAM,GAAGU,EAAEA,EAAER,OAAS,KAClD,CAACF,EAAM,GAAGU,EAAEA,EAAER,OAAS,IAAKF,EAAM,GAAGU,EAAEA,EAAER,OAAS,KAClD,CAACF,EAAM,GAAGpJ,GAAIoJ,EAAM,GAAGpJ,MACpB,EAAG8J,EAAEE,MACVD,EAAER,KAAKvJ,GACP8J,EAAEP,KAAKvJ,EACT,CAEA,OAAO+J,EAAEE,OAAOH,EAAElB,MAAM,GAAI,GAAGD,UACjC,CAEA,SAASR,EAAciB,GACrB,IAAIc,EAAe1F,EAAAA,IAAQ4E,EAAO,WAClCA,EAAQc,EAAa3D,YACrB,IAAI4D,EAAQR,EAASP,GACrB,OAAOc,EAAanC,OAAOoC,EAAO,EACpC,CAEA,MAAM9B,EAAY,SAAU+B,EAAQC,GAClC,IAAIC,EAAI9F,EAAAA,IAAc4F,EAAQ,GAC1BG,EAAI/F,EAAAA,IAAc6F,EAAQ,GAC9B,OAAOlC,EAAcmC,EAAE/E,IAAIgF,GAAGC,QAAQ,CAAC,GAAI,IAC7C,ECjFA,OACA,OACA,SACA,SACA,UACA,SACA,SACA,SACA,iBAGA,WAEA,OACA,OAGA,YAEA,cACA,cACA,cACA,aACA,aACA,mBACA,mBAEA,EAGA,UACA,gBACA,uCACA,eACA,OACA,MACA,iBACA,iBACA,cAIA,gBACA,4CACA,iBACA,OACA,MACA,iBACA,iBACA,cAIA,gBACA,4CACA,iBACA,OACA,MACA,iBACA,iBACA,cAIA,gBACA,kCACA,eACA,UACA,cACA,WACA,cACA,iBACA,iBACA,cAIA,gBACA,kCACA,eACA,UACA,cACA,WACA,cACA,iBACA,iBACA,cAIA,6BAEA,4DACA,4DAEA,wBACA,gEAEA,wBACA,EACA,SACA,SACA,oDAEA,wBACA,yBACA,yBACA,wBACA,+DAEA,EAEA,oBACA,+BACA,OACA,iBACA,iBACA,eACA,cACA,gBACA,gBACA,gBACA,iBAIA,iBACA,eAGA,OAFA,mBAEA,CACA,EAEA,wBACA,wBACA,wCACA,uCAEA,OACA,wBACA,yBACA,uCACA,uCAEA,QAEA,UACA,SACA,4BACA,EACA,UACA,yCACA,EAGA,WACA,sBACA,kDACA,kDACA,0BACA,uBACA,SACA,yBAEA,uCACA,+BACA,GAVA,CAWA,EAEA,WACA,sBACA,mDACA,iDACA,0BACA,uBACA,SACA,yBAEA,uCACA,+BACA,GAVA,CAWA,EAEA,SACA,2BACA,8BASA,OARA,8BACA,8BACA,8BACA,kCACA,kCACA,kCAEA,+BACA,CACA,EAGA,eACA,qBACA,gDACA,oDACA,yBACA,yBACA,+BACA,GANA,CAOA,IChOoR,I,UCOhRC,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIF,EAAeA,EAAiB,QClB5B,EAAS,WAAa,IAAIvO,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACoE,IAAI,QAAQ,CAACpE,EAAG,MAAM,CAACI,YAAY,oBAAoB,CAACJ,EAAG,MAAM,CAACI,YAAY,mBAAmBgO,MAAM,CAAGC,gBAAiB,OAASzO,EAAIoD,iBAAmB,OAAShD,EAAG,MAAM,CAACA,EAAG,SAAS,CAACoE,IAAI,SAAShE,YAAY,SAASF,MAAM,CAAC,MAAQ,MAAM,OAAS,aAAaF,EAAG,MAAM,CAACE,MAAM,CAAC,OAAS,KAAK,CAACN,EAAIO,GAAG,IAAIP,EAAI2D,GAAG3D,EAAI0O,UAAU,IAAI1O,EAAI2D,GAAG3D,EAAI2O,WAAW,IAAI3O,EAAI2D,GAAG3D,EAAI4O,WAAW,QAAQ,EAC1e,EAAkB,GC0BtB,GACA,OACA,aACA,cACA,gBACA,gBACA,cACA,eACA,iBACA,iBACA,gBACA,yBAGA,WAEA,OACA,OAGA,YAEA,eACA,eACA,gBACA,gBACA,eAEA,EAGA,UACA,yBAEA,gBACA,wCACA,iBACA,iBACA,iBACA,cAIA,gBACA,yCACA,iBACA,iBACA,iBACA,cAIA,gBACA,wCACA,iBACA,iBACA,iBACA,cAIA,oEAEA,qEACA,EAEA,SACA,SACA,oDAEA,wBACA,yBACA,yBACA,wBACA,+DAEA,EAEA,2BACA,+BACA,OACA,iBACA,iBACA,gBAIA,UACA,aAEA,iBACA,eAGA,OAFA,mBAEA,CACA,EAGA,wBACA,4BACA,yCACA,yCAEA,6BACA,6CACA,+CAEA,+BACA,8BACA,OAEA,yBACA,6BACA,0CACA,0CAEA,8BACA,+CACA,iDAEA,gCACA,+BACA,QAEA,UACA,UACA,2BACA,EAEA,WACA,uBACA,uDACA,uDACA,2BACA,4DACA,mCAEA,uDACA,uDACA,2BACA,4DACA,mCAEA,+BACA,GAdA,CAeA,EAEA,YACA,wBACA,yDACA,yDACA,4BACA,oBACA,SACA,iCAEA,oCAEA,yDACA,yDACA,4BACA,oBACA,SACA,iCAEA,oCAEA,+BACA,GApBA,CAqBA,EAEA,YACA,wBACA,4DACA,mCACA,+BACA,GAJA,CAKA,IC5MoR,ICQhR,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIF,EAAe,EAAiB,QCgbhC,MAAMC,EAAN,EAAW,KAAX,OAEA,OACA,kBACA,YACA,SACA,UAEA,SACA,OACA,OACA,OAEA,eACA,eAGA,OACA,aACA,aAGA,SACA,UAGA,cACA,cACA,iBACA,uBACA,iBACA,gBACA,eACA,yBAEA,oBACA,oBACA,qBACA,mCACA,oBAEA,EACA,SACA,WACA,yBACA,EACA,2BAGA,GAFA,gBAEA,MACA,mCACA,oBACA,oBACA,iCACA,CACA,EAEA,0BACA,gBACA,uBACA,2CACA,2CACA,iCACA,EAEA,aACA,oBACA,cACA,kBACA,WAMA,OAJA,cACA,cACA,eACA,cACA,CACA,IACA,GAGA,qBACA,uBACA,iBACA,kBAEA,QAEA,2BACA,MACA,qBACA,OACA,uBACA,4BACA,sBACA,uBACA,iBACA,iBAEA,EACA,kBACA,CACA,GAEA,UAEA,KACA,sCACA,EACA,KACA,SACA,QACA,8BACA,qBACA,mBACA,WACA,EAEA,KACA,2CACA,EAEA,KACA,qCACA,EAEA,MACA,uCACA,EAGA,KACA,QACA,mCACA,kCAEA,EAEA,WACA,MACA,iCACA,EACA,SAEA,UACA,MACA,gEACA,EACA,SAG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","sources":["webpack://ar-demo-app/./src/App.vue?9cde","webpack://ar-demo-app/./src/components/Main.vue?b149","webpack://ar-demo-app/./src/components/KSpace.vue?4cfb","webpack://ar-demo-app/./src/components/canvas.js","webpack://ar-demo-app/./src/components/lib/throttle.js","webpack://ar-demo-app/./src/components/lib/geo.js","webpack://ar-demo-app/./src/components/lib/layout.js","webpack://ar-demo-app/./src/components/lib/shape.js","webpack://ar-demo-app/src/components/KSpace.vue","webpack://ar-demo-app/./src/components/KSpace.vue?5799","webpack://ar-demo-app/./src/components/KSpace.vue","webpack://ar-demo-app/./src/components/Layout.vue?607a","webpack://ar-demo-app/src/components/Layout.vue","webpack://ar-demo-app/./src/components/Layout.vue?86d2","webpack://ar-demo-app/./src/components/Layout.vue","webpack://ar-demo-app/src/components/Main.vue","webpack://ar-demo-app/./src/components/Main.vue?7269","webpack://ar-demo-app/./src/components/Main.vue","webpack://ar-demo-app/src/App.vue","webpack://ar-demo-app/./src/App.vue?5a95","webpack://ar-demo-app/./src/App.vue","webpack://ar-demo-app/./src/plugins/vuetify.js","webpack://ar-demo-app/./src/main.js","webpack://ar-demo-app/webpack/bootstrap","webpack://ar-demo-app/webpack/runtime/amd define","webpack://ar-demo-app/webpack/runtime/amd options","webpack://ar-demo-app/webpack/runtime/chunk loaded","webpack://ar-demo-app/webpack/runtime/compat get default export","webpack://ar-demo-app/webpack/runtime/define property getters","webpack://ar-demo-app/webpack/runtime/global","webpack://ar-demo-app/webpack/runtime/hasOwnProperty shorthand","webpack://ar-demo-app/webpack/runtime/make namespace object","webpack://ar-demo-app/webpack/runtime/node module decorator","webpack://ar-demo-app/webpack/runtime/jsonp chunk loading","webpack://ar-demo-app/webpack/startup"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('v-app',[_c('header',[_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"8\"}},[_c('h1',[_vm._v(\" Compact design principle for diffractive exit-pupil expander in AR near-eye system \")]),_c('br'),_c('h3',[_vm._v(\"2021 SPIE. AR|VR|MR\")])]),_c('v-spacer'),_c('v-col',[_c('h2',{staticClass:\"lab-name\"},[_vm._v(\"Modern Nanophotonics Lab\")])])],1)],1)],1),_c('section',[_c('v-container',[_c('v-card',[_c('v-card-title',[_vm._v(\"Interactive Application\")]),_c('v-card-text',[_c('div',{staticClass:\"names\"},[_c('span',[_vm._v(\"Po-Han Chiu\"),_c('sup',[_vm._v(\"*a\")])]),_c('span',[_vm._v(\"Ting-Wei Huang\"),_c('sup',[_vm._v(\"a\")])]),_c('span',[_vm._v(\"Yun-Shou Hsu\"),_c('sup',[_vm._v(\"a\")])]),_c('span',[_vm._v(\"Bo-Kai Zhang\"),_c('sup',[_vm._v(\"a\")])]),_c('span',[_vm._v(\"Szu-Ta Chien\"),_c('sup',[_vm._v(\"a\")])]),_c('span',[_vm._v(\"Wen-Chang Hung\"),_c('sup',[_vm._v(\"b\")])]),_c('span',[_vm._v(\"Chien-Yi Huang\"),_c('sup',[_vm._v(\"b\")])]),_c('span',[_vm._v(\"Yu-Chieh Cheng\"),_c('sup',[_vm._v(\"a\")])])]),_c('div',[_c('p',[_c('sup',[_vm._v(\"a\")]),_vm._v(\"National Taipei University of Technology, No. 1, Section 3, Zhongxiao East Road, Da'an Dist., Taipei, 10608, Taiwan\"),_c('br'),_c('sup',[_vm._v(\"b\")]),_vm._v(\"ASUSTeK COMPUTER INC, No. 115, Li-De Rd., Beitou Dist., Taipei 112019, Taiwan \")])])]),_c('v-divider',{staticClass:\"mx-4\"}),_c('v-card-text',[_c('h3',[_vm._v(\"Abstract\")]),_c('p',[_vm._v(\" For a diffractive waveguide-based augmented reality display, we demonstrate a rapid and straightforward method to define the most compact layout of an exit pupil expander (EPE) from an analysis of diffractive optical elements in k-space. The idea is to consider all k-vectors coming from in-coupling to out-coupling areas according to the grating theory, and with the geometrical tracing of the EPE region to find the optimal layout. For a working wavelength of 532 nm, 40 degrees field of view display, our method is able to fit the layout into a circular shaped area with a minimal radius or to optimize for the minimal EPE area. Furthermore, a web-based interactive application demonstrating the EPE layout calculation is provided as a layout design tool. \")]),_c('p',[_c('strong',[_vm._v(\"Keywords:\")]),_vm._v(\" Near-eye display, Waveguide, Augmented Reality, Exit-Pupil Expander, Diffractive Optical Elements. \")])])],1)],1)],1),_c('Main'),_c('footer',[_c('v-container',[_c('v-row',[_c('v-col',[_c('p',[_vm._v(\" Web Designer/Developer: \"),_c('a',{staticStyle:{\"color\":\"white\"},attrs:{\"href\":\"https://chiuhans111.github.io/\"}},[_vm._v(\"Hans Chiu (Po-Han Chiu)\")]),_c('br'),_vm._v(\" Email: t110658013@ntut.org.tw \")]),_c('p',[_vm._v(\"Developed with: Vue, Vuetify, Fabric, TensorFlow\")])]),_c('v-col',[_c('p',[_vm._v(\" This project is aimed to give readers a interactive way to understand the principle behind waveguide based AR glasses. \")]),_c('p',[_vm._v(\"© 2021 TaipeiTech\")])])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('section',[_c('v-container',[_c('v-card',[_c('v-card-title',[_vm._v(\"Basic Settings\")]),_c('v-card-text',[_c('v-row',{staticClass:\"my-0\"},[_c('v-col',{staticClass:\"py-0\",attrs:{\"cols\":\"6\",\"md\":\"2\"}},[_c('v-text-field',{attrs:{\"label\":\"Wavelength\",\"suffix\":\"nm\"},model:{value:(_vm.props.wavelength),callback:function ($$v) {_vm.$set(_vm.props, \"wavelength\", _vm._n($$v))},expression:\"props.wavelength\"}})],1),_c('v-col',{staticClass:\"py-0\",attrs:{\"cols\":\"6\",\"md\":\"2\"}},[_c('v-text-field',{attrs:{\"label\":\"Refractive Index\"},model:{value:(_vm.props.material),callback:function ($$v) {_vm.$set(_vm.props, \"material\", _vm._n($$v))},expression:\"props.material\"}})],1),_c('v-col',{staticClass:\"py-0\",attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"5\"}},[_c('v-slider',{attrs:{\"label\":\"FOV\",\"min\":\"0\",\"max\":\"150\",\"tick\":\"1\",\"thumb-label\":\"\"},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('v-text-field',{staticClass:\"mt-0 pt-0\",attrs:{\"dense\":\"\",\"suffix\":\"degrees\"},model:{value:(_vm.props.FOV),callback:function ($$v) {_vm.$set(_vm.props, \"FOV\", _vm._n($$v))},expression:\"props.FOV\"}})]},proxy:true}]),model:{value:(_vm.props.FOV),callback:function ($$v) {_vm.$set(_vm.props, \"FOV\", $$v)},expression:\"props.FOV\"}})],1),_c('v-col',{staticClass:\"py-0\",attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"3\"}},[_c('v-row',[_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"Aspect\"},model:{value:(_vm.props.aspect[0]),callback:function ($$v) {_vm.$set(_vm.props.aspect, 0, _vm._n($$v))},expression:\"props.aspect[0]\"}})],1),_c('v-col',[_c('v-text-field',{model:{value:(_vm.props.aspect[1]),callback:function ($$v) {_vm.$set(_vm.props.aspect, 1, _vm._n($$v))},expression:\"props.aspect[1]\"}})],1)],1)],1)],1),_c('v-row',{staticClass:\"my-n4\"},[_c('v-col',{staticClass:\"py-0\",attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-slider',{attrs:{\"label\":\"x offset\",\"dense\":\"\",\"min\":\"-1\",\"max\":\"1\",\"step\":\"0.1\",\"thumb-label\":\"\"},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('v-text-field',{staticClass:\"mt-0 pt-0\",staticStyle:{\"width\":\"60px\"},attrs:{\"dense\":\"\"},model:{value:(_vm.props.offset[0]),callback:function ($$v) {_vm.$set(_vm.props.offset, 0, _vm._n($$v))},expression:\"props.offset[0]\"}})]},proxy:true}]),model:{value:(_vm.props.offset[0]),callback:function ($$v) {_vm.$set(_vm.props.offset, 0, $$v)},expression:\"props.offset[0]\"}})],1),_c('v-col',{staticClass:\"py-0\",attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-slider',{attrs:{\"label\":\"y offset\",\"dense\":\"\",\"min\":\"-1\",\"max\":\"1\",\"step\":\"0.1\"},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('v-text-field',{staticClass:\"mt-0 pt-0\",staticStyle:{\"width\":\"60px\"},attrs:{\"dense\":\"\",\"thumb-label\":\"\"},model:{value:(_vm.props.offset[1]),callback:function ($$v) {_vm.$set(_vm.props.offset, 1, _vm._n($$v))},expression:\"props.offset[1]\"}})]},proxy:true}]),model:{value:(_vm.props.offset[1]),callback:function ($$v) {_vm.$set(_vm.props.offset, 1, $$v)},expression:\"props.offset[1]\"}})],1)],1)],1)],1)],1)],1),_c('section',[_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"sm\":\"6\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"K Space \")]),_c('v-card-text',[_c('p',[_vm._v(\"Drag to modify grating parameters.\")])]),_c('KSpace',{attrs:{\"g1\":_vm.props.g1,\"g3\":_vm.props.g3,\"k0\":_vm.k0,\"k1\":_vm.k1,\"k2\":_vm.k2,\"k3\":_vm.k3,\"material\":_vm.props.material},on:{\"update:g1\":function($event){return _vm.$set(_vm.props, \"g1\", $event)},\"update:g3\":function($event){return _vm.$set(_vm.props, \"g3\", $event)}}}),_c('v-card-text',[_c('div',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"2\"}}),_c('v-col',[_c('v-label',[_vm._v(\"Period\")])],1),_c('v-col',[_c('v-label',[_vm._v(\"Angle\")])],1)],1),_c('v-row',{staticClass:\"mt-n4\"},[_c('v-col',{staticClass:\"text-right mt-1\",attrs:{\"cols\":\"2\"}},[_c('v-label',[_vm._v(\" In \")])],1),_c('v-col',[_c('v-text-field',{staticClass:\"ma-0 pa-0\",attrs:{\"dense\":\"\"},on:{\"change\":function($event){return _vm.grating_period_update('g1', $event)}},model:{value:(_vm.g1_period),callback:function ($$v) {_vm.g1_period=_vm._n($$v)},expression:\"g1_period\"}})],1),_c('v-col',[_c('v-text-field',{staticClass:\"ma-0 pa-0\",attrs:{\"dense\":\"\"},on:{\"change\":function($event){return _vm.grating_angle_update('g1', $event)}},model:{value:(_vm.g1_angle),callback:function ($$v) {_vm.g1_angle=_vm._n($$v)},expression:\"g1_angle\"}})],1)],1),_c('v-row',{staticClass:\"mt-n8\"},[_c('v-col',{staticClass:\"text-right mt-1\",attrs:{\"cols\":\"2\"}},[_c('v-label',[_vm._v(\" EPE \")])],1),_c('v-col',[_c('v-text-field',{staticClass:\"ma-0 pa-0\",attrs:{\"dense\":\"\",\"readonly\":\"\"},model:{value:(_vm.g2_period),callback:function ($$v) {_vm.g2_period=_vm._n($$v)},expression:\"g2_period\"}})],1),_c('v-col',[_c('v-text-field',{staticClass:\"ma-0 pa-0\",attrs:{\"dense\":\"\",\"readonly\":\"\"},model:{value:(_vm.g2_angle),callback:function ($$v) {_vm.g2_angle=_vm._n($$v)},expression:\"g2_angle\"}})],1)],1),_c('v-row',{staticClass:\"mt-n8\"},[_c('v-col',{staticClass:\"text-right mt-1\",attrs:{\"cols\":\"2\"}},[_c('v-label',[_vm._v(\" Out \")])],1),_c('v-col',[_c('v-text-field',{staticClass:\"ma-0 pa-0\",attrs:{\"dense\":\"\"},on:{\"change\":function($event){return _vm.grating_period_update('g3', $event)}},model:{value:(_vm.g3_period),callback:function ($$v) {_vm.g3_period=_vm._n($$v)},expression:\"g3_period\"}})],1),_c('v-col',[_c('v-text-field',{staticClass:\"ma-0 pa-0\",attrs:{\"dense\":\"\"},on:{\"change\":function($event){return _vm.grating_angle_update('g3', $event)}},model:{value:(_vm.g3_angle),callback:function ($$v) {_vm.g3_angle=_vm._n($$v)},expression:\"g3_angle\"}})],1)],1)],1),_c('p',[_vm._v(\"Note: EPE parameters are automatically calculated.\")])])],1)],1),_c('v-col',{attrs:{\"sm\":\"6\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\" Layout \")]),_c('v-card-text',[_c('p',[_vm._v(\"Drag to modify layout placement.\")])]),_c('Layout',{attrs:{\"in_pos\":_vm.props.in_pos,\"in_size\":_vm.props.in_size,\"in_shape1\":_vm.in_shape1,\"in_shape2\":_vm.in_shape2,\"out_pos\":_vm.props.out_pos,\"out_size\":_vm.props.out_size,\"out_shape1\":_vm.out_shape1,\"out_shape2\":_vm.out_shape2,\"epe_shape\":_vm.epe_shape,\"background_image\":_vm.background_image},on:{\"update:in_pos\":function($event){return _vm.$set(_vm.props, \"in_pos\", $event)},\"update:in_size\":function($event){return _vm.$set(_vm.props, \"in_size\", $event)},\"update:out_pos\":function($event){return _vm.$set(_vm.props, \"out_pos\", $event)},\"update:out_size\":function($event){return _vm.$set(_vm.props, \"out_size\", $event)}}}),_c('v-card-text',[_c('div',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"2\"}}),_c('v-col',[_c('v-label',[_vm._v(\"x\")])],1),_c('v-col',[_c('v-label',[_vm._v(\"y\")])],1),_c('v-col',[_c('v-label',[_vm._v(\"z\")])],1)],1),_c('v-row',{staticClass:\"mt-n4\"},[_c('v-col',{staticClass:\"text-right mt-1\",attrs:{\"cols\":\"2\"}},[_c('v-label',[_vm._v(\"In\")])],1),_c('v-col',[_c('v-text-field',{staticClass:\"ma-0 pa-0\",attrs:{\"dense\":\"\"},model:{value:(_vm.props.in_pos[0]),callback:function ($$v) {_vm.$set(_vm.props.in_pos, 0, _vm._n($$v))},expression:\"props.in_pos[0]\"}})],1),_c('v-col',[_c('v-text-field',{staticClass:\"ma-0 pa-0\",attrs:{\"dense\":\"\"},model:{value:(_vm.props.in_pos[1]),callback:function ($$v) {_vm.$set(_vm.props.in_pos, 1, _vm._n($$v))},expression:\"props.in_pos[1]\"}})],1),_c('v-col',[_c('v-text-field',{staticClass:\"ma-0 pa-0\",attrs:{\"dense\":\"\"},model:{value:(_vm.props.in_displace),callback:function ($$v) {_vm.$set(_vm.props, \"in_displace\", _vm._n($$v))},expression:\"props.in_displace\"}})],1)],1),_c('v-row',{staticClass:\"mt-n8\"},[_c('v-col',{staticClass:\"text-right mt-1\",attrs:{\"cols\":\"2\"}},[_c('v-label',[_vm._v(\"Out\")])],1),_c('v-col',[_c('v-text-field',{staticClass:\"ma-0 pa-0\",attrs:{\"dense\":\"\"},model:{value:(_vm.props.out_pos[0]),callback:function ($$v) {_vm.$set(_vm.props.out_pos, 0, _vm._n($$v))},expression:\"props.out_pos[0]\"}})],1),_c('v-col',[_c('v-text-field',{staticClass:\"ma-0 pa-0\",attrs:{\"dense\":\"\"},model:{value:(_vm.props.out_pos[1]),callback:function ($$v) {_vm.$set(_vm.props.out_pos, 1, _vm._n($$v))},expression:\"props.out_pos[1]\"}})],1),_c('v-col',[_c('v-text-field',{staticClass:\"ma-0 pa-0\",attrs:{\"dense\":\"\"},model:{value:(_vm.props.out_displace),callback:function ($$v) {_vm.$set(_vm.props, \"out_displace\", _vm._n($$v))},expression:\"props.out_displace\"}})],1)],1),_c('v-row',{staticClass:\"mt-n4\"},[_c('v-col',[_c('v-row',{staticClass:\"mt-n4\"},[_c('v-col',[_c('v-select',{attrs:{\"items\":_vm.shape_types,\"label\":\"In shape\",\"dense\":\"\"},model:{value:(_vm.props.in_shape_type),callback:function ($$v) {_vm.$set(_vm.props, \"in_shape_type\", $$v)},expression:\"props.in_shape_type\"}})],1)],1),_c('v-row',{staticClass:\"mt-n4\"},[_c('v-col',[_c('v-text-field',{staticClass:\"ma-0 pa-0\",attrs:{\"dense\":\"\",\"label\":\"width\"},model:{value:(_vm.props.in_size[0]),callback:function ($$v) {_vm.$set(_vm.props.in_size, 0, _vm._n($$v))},expression:\"props.in_size[0]\"}})],1),_c('v-col',[_c('v-text-field',{staticClass:\"ma-0 pa-0\",attrs:{\"dense\":\"\",\"label\":\"height\"},model:{value:(_vm.props.in_size[1]),callback:function ($$v) {_vm.$set(_vm.props.in_size, 1, _vm._n($$v))},expression:\"props.in_size[1]\"}})],1)],1)],1),_c('v-col',[_c('v-row',{staticClass:\"mt-n4\"},[_c('v-col',[_c('v-select',{attrs:{\"items\":_vm.shape_types,\"label\":\"Out shape\",\"dense\":\"\"},model:{value:(_vm.props.out_shape_type),callback:function ($$v) {_vm.$set(_vm.props, \"out_shape_type\", $$v)},expression:\"props.out_shape_type\"}})],1)],1),_c('v-row',{staticClass:\"mt-n4\"},[_c('v-col',[_c('v-text-field',{staticClass:\"ma-0 pa-0\",attrs:{\"dense\":\"\",\"label\":\"width\"},model:{value:(_vm.props.out_size[0]),callback:function ($$v) {_vm.$set(_vm.props.out_size, 0, _vm._n($$v))},expression:\"props.out_size[0]\"}})],1),_c('v-col',[_c('v-text-field',{staticClass:\"ma-0 pa-0\",attrs:{\"dense\":\"\",\"label\":\"height\"},model:{value:(_vm.props.out_size[1]),callback:function ($$v) {_vm.$set(_vm.props.out_size, 1, _vm._n($$v))},expression:\"props.out_size[1]\"}})],1)],1)],1)],1)],1)])],1)],1)],1)],1)],1),_c('section',[_c('v-container',[_c('v-card',[_c('v-card-title',[_vm._v(\" Customization \")]),_c('v-card-text',[_c('v-row',[_c('v-col',[_c('v-file-input',{attrs:{\"label\":\"Background Image\",\"dense\":\"\"},on:{\"change\":_vm.update_background_image}})],1)],1)],1)],1)],1)],1),_c('section',[_c('v-container',[_c('v-card',[_c('v-card-title',[_vm._v(\" Parameters \")]),_c('v-card-text',[_vm._l((Object.keys(_vm.props)),function(prop){return [_c('v-row',{key:prop,staticClass:\"mt-n4\"},[_c('v-col',{staticClass:\"text-right\",attrs:{\"cols\":\"4\",\"sm\":\"3\"}},[_c('label',{attrs:{\"for\":prop}},[_vm._v(_vm._s(prop)+\": \")])]),_c('v-col',[(_vm.isArray(_vm.props[prop]))?_vm._l((_vm.props[prop]),function(item,i){return _c('span',{key:i},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.props[prop][i]),expression:\"props[prop][i]\",modifiers:{\"number\":true}}],attrs:{\"name\":prop,\"type\":\"text\"},domProps:{\"value\":(_vm.props[prop][i])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.props[prop], i, _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})])}):[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.props[prop]),expression:\"props[prop]\",modifiers:{\"number\":true}}],attrs:{\"name\":prop,\"type\":\"text\"},domProps:{\"value\":(_vm.props[prop])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.props, prop, _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})]],2)],1)]})],2)],1)],1)],1),_c('div',{attrs:{\"hidden\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.epe_shape_prop)+\" \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"base\"},[_c('canvas',{ref:\"canvas\",staticClass:\"canvas\",attrs:{\"width\":\"500\",\"height\":\"500\"}}),_c('div',{attrs:{\"hidden\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.g1_props)+\" \"+_vm._s(_vm.g3_props)+\" \"+_vm._s(_vm.points)+\" \"+_vm._s(_vm.circle_props)+\" \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { fabric } from \"fabric\"\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            // ctx: null,\r\n            canvas: null,\r\n            alive: false,\r\n        }\r\n    },\r\n    mounted() {\r\n        this.alive = true\r\n        this.canvas = new fabric.Canvas(this.$refs.canvas)\r\n        // this.ctx = this.canvas.getContext('2d')\r\n        window.addEventListener(\"resize\", this.resize_event)\r\n        this.resize()\r\n    },\r\n    destroyed() {\r\n        this.alive = false\r\n        this.canvas.dispose()\r\n        window.removeEventListener(\"resize\", this.resize_event)\r\n    },\r\n    methods: {\r\n        resize_event() {\r\n            this.resize()\r\n        },\r\n        resize() {\r\n            // console.log(\"resize from mixin\")\r\n        },\r\n\r\n        updatePolygon(polygon) {\r\n            const { width, height, left, top } = polygon._calcDimensions()\r\n            const nwidth = Math.max(Math.abs(left), Math.abs(left + width)) * 2\r\n            const nheight = Math.max(Math.abs(top), Math.abs(top + height)) * 2\r\n            polygon\r\n                .set({\r\n                    width: nwidth,\r\n                    height: nheight,\r\n                    // pathOffset: new fabric.Point(left + nwidth / 2, top + nheight / 2),\r\n                })\r\n                .setCoords()\r\n        },\r\n\r\n\r\n    },\r\n}","function throttle(callback, delay) {\r\n    let last_call = null\r\n    let timer_id = null\r\n    let last_output = null\r\n\r\n    function throttled() {\r\n        const ctx = this\r\n        const args = arguments\r\n        let now = new Date().getTime()\r\n\r\n        clearTimeout(timer_id)\r\n\r\n        if (!last_call || now - last_call > delay) {\r\n\r\n            last_output = callback.apply(ctx, args)\r\n            last_call = now\r\n\r\n        } else {\r\n            timer_id = setTimeout(() => {\r\n                last_output = callback.apply(ctx, args)\r\n                last_call = null\r\n            }, delay)\r\n        }\r\n        return last_output\r\n    }\r\n    return throttled\r\n}\r\n\r\n\r\nfunction single_promise(callback) {\r\n    let call_id = null\r\n    let busy = false\r\n    function single() {\r\n        const ctx = this\r\n        const args = arguments\r\n\r\n        clearTimeout(call_id)\r\n        \r\n        if (busy) {\r\n            call_id = setTimeout(() => {\r\n                single.apply(ctx, args)\r\n            }, 0)\r\n            return\r\n        }\r\n\r\n        busy = true\r\n\r\n        return new Promise(done => {\r\n            callback.apply(ctx, args).then(() => {\r\n                done(arguments)\r\n            }).finally(() => {\r\n                busy = false\r\n            })\r\n        })\r\n    }\r\n    return single\r\n}\r\n\r\n\r\nexport {\r\n    throttle, single_promise\r\n}","function magsq(vec){\r\n    let s = 0\r\n    for (let v of vec){\r\n        s+=v**2\r\n    }\r\n    return s\r\n}\r\n\r\nfunction mag(vec){\r\n    return Math.sqrt(magsq(vec))\r\n}\r\n\r\nexport {\r\n    magsq, mag\r\n}","import { mag } from './geo'\r\nimport { convshape, convhullshape, rectangular } from './shape'\r\nimport * as tf from '@tensorflow/tfjs'\r\n\r\ntf.setBackend('cpu')\r\n\r\nconst k1 = function (k0, fov, offset_x, offset_y, aspect_x, aspect_y) {\r\n    const diagonal = mag([aspect_x, aspect_y])\r\n    const z = diagonal / 2 / Math.tan(fov / 2)\r\n\r\n    const dx = aspect_x * 0.5 * offset_x\r\n    const dy = aspect_y * 0.5 * offset_y\r\n    const points = rectangular(+dx, +dy,\r\n        +aspect_x - Math.abs(dx) * 2,\r\n        +aspect_y - Math.abs(dy) * 2, 8)\r\n    tf.dispose([dx, dy])\r\n    return points.div(points.pow(2).sum(0).add(z ** 2).sqrt()).mul(k0)\r\n}\r\n\r\nconst diffraction = function (k, g) {\r\n    return tf.add(tf.tensor(k), tf.tensor([[g[0]], [g[1]]]))\r\n}\r\n\r\nconst average_angle = function (angle, axis = null) {\r\n    const x = tf.mean(tf.cos(angle), axis)\r\n    const y = tf.mean(tf.sin(angle), axis)\r\n    return tf.atan2(y, x)\r\n}\r\n\r\nconst extreme_angle = function (k) {\r\n    const angle = tf.atan2(k[0], k[1])\r\n    const normalized_angle = angle.sub(average_angle(angle)).add(Math.PI).mod(Math.PI * 2).sub(Math.PI)\r\n    const id_max = tf.argMax(normalized_angle).arraySync()\r\n    const id_min = tf.argMin(normalized_angle).arraySync()\r\n    tf.dispose([angle, normalized_angle])\r\n    return [id_max, id_min]\r\n}\r\n\r\n\r\nconst kz = function (k, k0) {\r\n    return tf.sqrt(tf.sub(k0 ** 2, tf.mul(k, k).sum(0)))\r\n}\r\n\r\nconst k_normz = function (k, k0) {\r\n    return tf.div(k, kz(k, k0))\r\n}\r\n\r\n\r\nfunction extremum(values, axis = null) {\r\n    return tf.concat([tf.max(values, axis, true), tf.min(values, axis, true)], axis)\r\n}\r\n\r\n\r\nconst trace_EPE = async function (in_pos, in_shape, in_displace, out_pos, out_shape, out_displace, k0, k1, k2, k3) {\r\n    const din = k_normz(k1, k0).mul(in_displace)\r\n    const dout = k_normz(k1, k0).mul(-out_displace)\r\n\r\n    const d_in_pos = tf.expandDims(in_pos, 1).add(din)\r\n    const d_out_pos = tf.expandDims(out_pos, 1).add(dout)\r\n\r\n    const dd = tf.sub(d_out_pos, d_in_pos)\r\n    const k2p = tf.mul([k2[1], k2[0]], [[-1], [1]])\r\n    const k3p = tf.mul([k3[1], k3[0]], [[-1], [1]])\r\n\r\n    const intersect = d_out_pos.sub(\r\n        tf.cast(k3, \"float32\")\r\n            .mul(tf.mul(dd, k2p).sum(0))\r\n            .div(tf.mul(k3, k2p).sum(0)))\r\n\r\n\r\n    const exk3 = extremum(tf.mul(tf.expandDims(in_shape, 1), tf.expandDims(k2p, 2)).sum(0), 1)\r\n        .mul(tf.mul(k2p, k3).sum(0)\r\n            .div(tf.mul(k2p, k2p).sum(0))\r\n            .div(tf.mul(k3, k3).sum(0)).expandDims(1))\r\n\r\n\r\n    const exk2 = extremum(tf.mul(tf.expandDims(out_shape, 1), tf.expandDims(k3p, 2)).sum(0), 1)\r\n        .mul(tf.mul(k3p, k2).sum(0)\r\n            .div(tf.mul(k3p, k3p).sum(0))\r\n            .div(tf.mul(k2, k2).sum(0)).expandDims(1))\r\n\r\n    tf.dispose(\r\n        dd, k2p, k3p, intersect\r\n    )\r\n\r\n    const k21 = tf.mul(exk2.gather(0, 1), k2)\r\n    const k22 = tf.mul(exk2.gather(1, 1), k2)\r\n    const k31 = tf.mul(exk3.gather(0, 1), k3)\r\n    const k32 = tf.mul(exk3.gather(1, 1), k3)\r\n\r\n    const epe_shape = await convhullshape(tf.concat([\r\n        intersect.add(k21).add(k31),\r\n        intersect.add(k22).add(k31),\r\n        intersect.add(k21).add(k32),\r\n        intersect.add(k22).add(k32),\r\n    ], 1)).array()\r\n\r\n    const in_shape2 = await convshape(din, in_shape).array()\r\n    const out_shape2 = await convshape(dout, out_shape).array()\r\n\r\n\r\n    tf.dispose(\r\n        exk2, exk3, k21, k22, k31, k32\r\n    )\r\n\r\n    return [in_shape2, epe_shape, out_shape2]\r\n}\r\n\r\n\r\n\r\nexport {\r\n    k1, diffraction, extreme_angle, kz, k_normz, trace_EPE,\r\n}\r\n","import * as tf from \"@tensorflow/tfjs\"\r\nimport { extreme_angle } from \"./layout\"\r\n\r\nfunction rectangular(x, y, w, h, samples) {\r\n  let d = tf.range(0, samples + 1).div(samples).sub(0.5)\r\n  let fd = d.reverse()\r\n\r\n  d = d.slice(0, samples)\r\n  fd = fd.slice(0, samples)\r\n\r\n  let o = tf.ones([samples]).mul(0.5)\r\n  let no = o.mul(-1)\r\n  let px = tf.concat1d([d, o, fd, no]).mul(w).add(x)\r\n  let py = tf.concat1d([no, d, o, fd]).mul(h).add(y)\r\n  return tf.concat2d([px.expandDims(0), py.expandDims(0)])\r\n}\r\n\r\nfunction circular(x, y, w, h, samples) {\r\n  let a = tf.range(0, samples).div(samples).mul(Math.PI * 2)\r\n  let px = tf.cos(a).mul(w / 2).add(x)\r\n  let py = tf.sin(a).mul(h / 2).add(y)\r\n  return tf.concat2d([px.expandDims(0), py.expandDims(0)])\r\n}\r\n\r\n\r\nfunction shape2points(shape, scale) {\r\n  let points = []\r\n  for (let i = 0; i < shape[0].length; i++) {\r\n    points.push({\r\n      x: shape[0][i] * scale,\r\n      y: -shape[1][i] * scale,\r\n    })\r\n  }\r\n  return points\r\n}\r\n\r\n\r\nfunction span_extreme_points(k, scale) {\r\n  let [id_max, id_min] = extreme_angle(k)\r\n  return [\r\n    { x: 0, y: 0 },\r\n    {\r\n      x: k[0][id_max] * scale,\r\n      y: -k[1][id_max] * scale,\r\n    },\r\n    {\r\n      x: k[0][id_min] * scale,\r\n      y: -k[1][id_min] * scale,\r\n    },\r\n  ]\r\n}\r\n\r\n\r\nfunction cross(o, a, b) {\r\n  return (a[0] - o[0]) * (b[1] - o[1]) - (a[1] - o[1]) * (b[0] - o[0])\r\n}\r\n\r\nfunction convhull(shape) {\r\n  let p = []\r\n  for (let i = 0; i < shape[0].length; i++) p.push(i)\r\n\r\n  p.sort((a, b) => {\r\n    if (shape[0][a] < shape[0][b]) return -1\r\n    if (shape[0][a] > shape[0][b]) return 1\r\n    return shape[1][a] - shape[1][b]\r\n  })\r\n\r\n  let U = []\r\n  let L = []\r\n\r\n  for (let i of p) {\r\n    while (L.length >= 2 && cross(\r\n      [shape[0][L[L.length - 2]], shape[1][L[L.length - 2]]],\r\n      [shape[0][L[L.length - 1]], shape[1][L[L.length - 1]]],\r\n      [shape[0][i], shape[1][i]],\r\n    ) <= 0) L.pop()\r\n    while (L.length >= 2 && cross(\r\n      [shape[0][U[U.length - 2]], shape[1][U[U.length - 2]]],\r\n      [shape[0][U[U.length - 1]], shape[1][U[U.length - 1]]],\r\n      [shape[0][i], shape[1][i]],\r\n    ) >= 0) U.pop()\r\n    L.push(i)\r\n    U.push(i)\r\n  }\r\n\r\n  return L.concat(U.slice(1, -1).reverse())\r\n}\r\n\r\nfunction convhullshape(shape) {\r\n  let shape_tensor = tf.cast(shape, 'float32')\r\n  shape = shape_tensor.arraySync()\r\n  let index = convhull(shape)\r\n  return shape_tensor.gather(index, 1)\r\n}\r\n\r\nconst convshape = function (shape1, shape2) {\r\n  let A = tf.expandDims(shape1, 1)\r\n  let B = tf.expandDims(shape2, 2)\r\n  return convhullshape(A.add(B).reshape([2, -1]))\r\n}\r\n\r\n\r\nexport {\r\n  rectangular, circular,\r\n  shape2points, span_extreme_points,\r\n  convhull, convhullshape, convshape\r\n}","<template>\r\n  <div ref=\"base\">\r\n    <canvas class=\"canvas\" width=\"500\" height=\"500\" ref=\"canvas\"> </canvas>\r\n    <div hidden>\r\n      {{ g1_props }}\r\n      {{ g3_props }}\r\n      {{ points }}\r\n      {{ circle_props }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport canvas from \"./canvas.js\";\r\nimport { fabric } from \"fabric\";\r\nimport { throttle } from \"./lib/throttle.js\";\r\nimport { shape2points, span_extreme_points } from \"./lib/shape.js\";\r\n\r\nexport default {\r\n  props: {\r\n    g1: Array,\r\n    g3: Array,\r\n    k0: Number,\r\n    k1: Array,\r\n    k2: Array,\r\n    k3: Array,\r\n    material: Number,\r\n  },\r\n\r\n  mixins: [canvas],\r\n\r\n  data() {\r\n    return {\r\n      // typings\r\n      /**@type {fabric.Canvas} */\r\n      canvas: null,\r\n      // shapes\r\n      k1_shape: null,\r\n      k2_shape: null,\r\n      k3_shape: null,\r\n      circle1: null,\r\n      circle2: null,\r\n      k2_span_shape: null,\r\n      k3_span_shape: null,\r\n    };\r\n  },\r\n\r\n  // SETUP -------------------------------------\r\n  mounted() {\r\n    this.canvas.add(\r\n      (this.k1_shape = new fabric.Polygon([], {\r\n        fill: \"#37474f\",\r\n        left: 0,\r\n        top: 0,\r\n        originX: \"center\",\r\n        originY: \"center\",\r\n        evented: false,\r\n      }))\r\n    );\r\n\r\n    this.canvas.add(\r\n      (this.k2_span_shape = new fabric.Polygon([], {\r\n        fill: \"#ffcc8080\",\r\n        left: 0,\r\n        top: 0,\r\n        originX: \"center\",\r\n        originY: \"center\",\r\n        evented: false,\r\n      }))\r\n    );\r\n\r\n    this.canvas.add(\r\n      (this.k3_span_shape = new fabric.Polygon([], {\r\n        fill: \"#90caf980\",\r\n        left: 0,\r\n        top: 0,\r\n        originX: \"center\",\r\n        originY: \"center\",\r\n        evented: false,\r\n      }))\r\n    );\r\n\r\n    this.canvas.add(\r\n      (this.circle1 = new fabric.Circle({\r\n        stroke: \"black\",\r\n        fill: null,\r\n        strokeWidth: 2,\r\n        radius: 1000,\r\n        selectable: false,\r\n        originX: \"center\",\r\n        originY: \"center\",\r\n        evented: false,\r\n      }))\r\n    );\r\n\r\n    this.canvas.add(\r\n      (this.circle2 = new fabric.Circle({\r\n        stroke: \"black\",\r\n        fill: null,\r\n        strokeWidth: 2,\r\n        radius: 1000,\r\n        selectable: false,\r\n        originX: \"center\",\r\n        originY: \"center\",\r\n        evented: false,\r\n      }))\r\n    );\r\n\r\n    this.canvas.set(\"scaleY\", -1);\r\n\r\n    this.k2_shape = this.create_k_patch(\"#ff9800\", this.g1_update);\r\n    this.k3_shape = this.create_k_patch(\"#2196f3\", this.g3_update);\r\n\r\n    this.canvas.absolutePan(\r\n      new fabric.Point(-this.canvas.width / 2, -this.canvas.height / 2)\r\n    );\r\n    this.canvas.selection = false;\r\n  },\r\n  methods: {\r\n    resize() {\r\n      let s = this.$refs.base.getBoundingClientRect().width;\r\n      // s = Math.min(s, 500);\r\n      this.canvas.setWidth(s);\r\n      this.canvas.setHeight(s);\r\n      this.canvas.calcOffset();\r\n      this.canvas.absolutePan(\r\n        new fabric.Point(-this.canvas.width / 2, -this.canvas.height / 2)\r\n      );\r\n    },\r\n\r\n    create_k_patch(color, callback) {\r\n      let shape = new fabric.Polygon([], {\r\n        fill: color,\r\n        originX: \"center\",\r\n        originY: \"center\",\r\n        stroke: \"white\",\r\n        strokeWidth: 2,\r\n        lockRotation: true,\r\n        lockScalingX: true,\r\n        lockScalingY: true,\r\n        hasControls: false,\r\n        // width: 100,\r\n        // height: 100,\r\n      })\r\n        .on(\"modified\", callback)\r\n        .on(\"moving\", callback);\r\n      this.canvas.add(shape);\r\n\r\n      return shape;\r\n    },\r\n    // update events\r\n    g1_update: throttle(function () {\r\n      this.$emit(\"update:g1\", [\r\n        this.k2_shape.get(\"left\") / this.scaling,\r\n        -this.k2_shape.get(\"top\") / this.scaling,\r\n      ]);\r\n    }, 20),\r\n    g3_update: throttle(function () {\r\n      this.$emit(\"update:g3\", [\r\n        -this.k3_shape.get(\"left\") / this.scaling,\r\n        this.k3_shape.get(\"top\") / this.scaling,\r\n      ]);\r\n    }, 20),\r\n  },\r\n  computed: {\r\n    k0_mat() {\r\n      return this.k0 * this.material;\r\n    },\r\n    scaling() {\r\n      return (this.canvas.width / 2 / this.k0_mat) * 0.8;\r\n    },\r\n\r\n    // K vector fields\r\n    g1_props() {\r\n      if (!this.k2_shape) return 0;\r\n      this.k2_shape.set(\"left\", this.g1[0] * this.scaling);\r\n      this.k2_shape.set(\"top\", -this.g1[1] * this.scaling);\r\n      this.k2_shape.setCoords();\r\n      this.k2_span_shape.set(\r\n        \"points\",\r\n        span_extreme_points(this.k2, this.scaling)\r\n      );\r\n      this.updatePolygon(this.k2_span_shape);\r\n      this.canvas.requestRenderAll();\r\n      return 0;\r\n    },\r\n\r\n    g3_props() {\r\n      if (!this.k3_shape) return 0;\r\n      this.k3_shape.set(\"left\", -this.g3[0] * this.scaling);\r\n      this.k3_shape.set(\"top\", this.g3[1] * this.scaling);\r\n      this.k3_shape.setCoords();\r\n      this.k3_span_shape.set(\r\n        \"points\",\r\n        span_extreme_points(this.k3, this.scaling)\r\n      );\r\n      this.updatePolygon(this.k3_span_shape);\r\n      this.canvas.requestRenderAll();\r\n      return 0;\r\n    },\r\n\r\n    points() {\r\n      if (!this.k1_shape) return 0;\r\n      let points = shape2points(this.k1, this.scaling);\r\n      this.k1_shape.set(\"points\", points);\r\n      this.k2_shape.set(\"points\", points);\r\n      this.k3_shape.set(\"points\", points);\r\n      this.updatePolygon(this.k1_shape);\r\n      this.updatePolygon(this.k2_shape);\r\n      this.updatePolygon(this.k3_shape);\r\n\r\n      this.canvas.requestRenderAll();\r\n      return 0;\r\n    },\r\n\r\n    // donuts\r\n    circle_props() {\r\n      if (!this.circle1) return 0;\r\n      this.circle1.set(\"radius\", this.k0 * this.scaling);\r\n      this.circle2.set(\"radius\", this.k0_mat * this.scaling);\r\n      this.circle1.setCoords();\r\n      this.circle2.setCoords();\r\n      this.canvas.requestRenderAll();\r\n      return 0;\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./KSpace.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./KSpace.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./KSpace.vue?vue&type=template&id=5f5d1fe2&\"\nimport script from \"./KSpace.vue?vue&type=script&lang=js&\"\nexport * from \"./KSpace.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"base\"},[_c('div',{staticClass:\"layout-container\"},[_c('div',{staticClass:\"layout-canvas-bg\",style:({ backgroundImage: 'url(' + _vm.background_image + ')' })}),_c('div',[_c('canvas',{ref:\"canvas\",staticClass:\"canvas\",attrs:{\"width\":\"500\",\"height\":\"500\"}})])]),_c('div',{attrs:{\"hidden\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.in_props)+\" \"+_vm._s(_vm.out_props)+\" \"+_vm._s(_vm.epe_props)+\" \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div ref=\"base\">\r\n    <div class=\"layout-container\">\r\n      <div\r\n        class=\"layout-canvas-bg\"\r\n        :style=\"{ backgroundImage: 'url(' + background_image + ')' }\"\r\n      ></div>\r\n\r\n      <div>\r\n        <canvas class=\"canvas\" width=\"500\" height=\"500\" ref=\"canvas\"> </canvas>\r\n      </div>\r\n    </div>\r\n\r\n    <div hidden>\r\n      {{ in_props }}\r\n      {{ out_props }}\r\n      {{ epe_props }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport canvas from \"./canvas.js\";\r\nimport { fabric } from \"fabric\";\r\nimport { throttle } from \"./lib/throttle.js\";\r\nimport { shape2points } from \"./lib/shape.js\";\r\n\r\nexport default {\r\n  props: {\r\n    in_pos: Array,\r\n    in_size: Array,\r\n    in_shape1: Array,\r\n    in_shape2: Array,\r\n    out_pos: Array,\r\n    out_size: Array,\r\n    out_shape1: Array,\r\n    out_shape2: Array,\r\n    epe_shape: Array,\r\n    background_image: String,\r\n  },\r\n\r\n  mixins: [canvas],\r\n\r\n  data() {\r\n    return {\r\n      // typings\r\n      /**@type {fabric.Canvas} */\r\n      canvas: null,\r\n      // shapes\r\n      in_patch1: null,\r\n      in_patch2: null,\r\n      out_patch1: null,\r\n      out_patch2: null,\r\n      epe_patch: null,\r\n    };\r\n  },\r\n\r\n  // SETUP -------------------------------------\r\n  mounted() {\r\n    this.canvas.selection = false;\r\n\r\n    this.canvas.add(\r\n      (this.in_patch2 = new fabric.Polygon([], {\r\n        fill: \"#37474f80\",\r\n        originX: \"center\",\r\n        originY: \"center\",\r\n        evented: false,\r\n      }))\r\n    );\r\n\r\n    this.canvas.add(\r\n      (this.out_patch2 = new fabric.Polygon([], {\r\n        fill: \"#2196f380\",\r\n        originX: \"center\",\r\n        originY: \"center\",\r\n        evented: false,\r\n      }))\r\n    );\r\n\r\n    this.canvas.add(\r\n      (this.epe_patch = new fabric.Polygon([], {\r\n        fill: \"#ff980080\",\r\n        originX: \"center\",\r\n        originY: \"center\",\r\n        evented: false,\r\n      }))\r\n    );\r\n\r\n    this.in_patch1 = this.create_coupling_patch(\"#37474f\", this.in_update);\r\n\r\n    this.out_patch1 = this.create_coupling_patch(\"#2196f3\", this.out_update);\r\n  },\r\n\r\n  methods: {\r\n    resize() {\r\n      let s = this.$refs.base.getBoundingClientRect().width;\r\n      // s = Math.min(s, 500);\r\n      this.canvas.setWidth(s);\r\n      this.canvas.setHeight(s);\r\n      this.canvas.calcOffset();\r\n      this.canvas.absolutePan(\r\n        new fabric.Point(-this.canvas.width / 2, -this.canvas.height / 2)\r\n      );\r\n    },\r\n\r\n    create_coupling_patch(color, callback) {\r\n      let shape = new fabric.Polygon([], {\r\n        fill: color,\r\n        originX: \"center\",\r\n        originY: \"center\",\r\n        lockRotation: true,\r\n        // lockScalingX: true,\r\n        // lockScalingY: true,\r\n        // hasControls: false,\r\n        width: 100,\r\n        height: 100,\r\n      })\r\n        .on(\"modified\", callback)\r\n        .on(\"moving\", callback);\r\n      this.canvas.add(shape);\r\n\r\n      return shape;\r\n    },\r\n\r\n    // update events\r\n    in_update: throttle(function () {\r\n      this.$emit(\"update:in_pos\", [\r\n        this.in_patch1.get(\"left\") / this.scaling,\r\n        -this.in_patch1.get(\"top\") / this.scaling,\r\n      ]);\r\n      this.$emit(\"update:in_size\", [\r\n        this.in_patch1.get(\"scaleX\") * this.in_size[0],\r\n        this.in_patch1.get(\"scaleY\") * this.in_size[1],\r\n      ]);\r\n      this.in_patch1.set(\"scaleX\", 1);\r\n      this.in_patch1.set(\"scaleY\", 1);\r\n    }, 20),\r\n\r\n    out_update: throttle(function () {\r\n      this.$emit(\"update:out_pos\", [\r\n        this.out_patch1.get(\"left\") / this.scaling,\r\n        -this.out_patch1.get(\"top\") / this.scaling,\r\n      ]);\r\n      this.$emit(\"update:out_size\", [\r\n        this.out_patch1.get(\"scaleX\") * this.out_size[0],\r\n        this.out_patch1.get(\"scaleY\") * this.out_size[1],\r\n      ]);\r\n      this.out_patch1.set(\"scaleX\", 1);\r\n      this.out_patch1.set(\"scaleY\", 1);\r\n    }, 20),\r\n  },\r\n  computed: {\r\n    scaling() {\r\n      return this.canvas.width / 80;\r\n    },\r\n\r\n    in_props() {\r\n      if (!this.in_patch1) return 0;\r\n      this.in_patch1.set(\"left\", this.in_pos[0] * this.scaling);\r\n      this.in_patch1.set(\"top\", -this.in_pos[1] * this.scaling);\r\n      this.in_patch1.setCoords();\r\n      this.in_patch1.set(\"points\", shape2points(this.in_shape1, this.scaling));\r\n      this.updatePolygon(this.in_patch1);\r\n\r\n      this.in_patch2.set(\"left\", this.in_pos[0] * this.scaling);\r\n      this.in_patch2.set(\"top\", -this.in_pos[1] * this.scaling);\r\n      this.in_patch2.setCoords();\r\n      this.in_patch2.set(\"points\", shape2points(this.in_shape2, this.scaling));\r\n      this.updatePolygon(this.in_patch2);\r\n\r\n      this.canvas.requestRenderAll();\r\n      return 0;\r\n    },\r\n\r\n    out_props() {\r\n      if (!this.out_patch1) return 0;\r\n      this.out_patch1.set(\"left\", this.out_pos[0] * this.scaling);\r\n      this.out_patch1.set(\"top\", -this.out_pos[1] * this.scaling);\r\n      this.out_patch1.setCoords();\r\n      this.out_patch1.set(\r\n        \"points\",\r\n        shape2points(this.out_shape1, this.scaling)\r\n      );\r\n      this.updatePolygon(this.out_patch1);\r\n\r\n      this.out_patch2.set(\"left\", this.out_pos[0] * this.scaling);\r\n      this.out_patch2.set(\"top\", -this.out_pos[1] * this.scaling);\r\n      this.out_patch2.setCoords();\r\n      this.out_patch2.set(\r\n        \"points\",\r\n        shape2points(this.out_shape2, this.scaling)\r\n      );\r\n      this.updatePolygon(this.out_patch2);\r\n\r\n      this.canvas.requestRenderAll();\r\n      return 0;\r\n    },\r\n\r\n    epe_props() {\r\n      if (!this.out_patch1) return 0;\r\n      this.epe_patch.set(\"points\", shape2points(this.epe_shape, this.scaling));\r\n      this.updatePolygon(this.epe_patch);\r\n      this.canvas.requestRenderAll();\r\n      return 0;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.layout-container {\r\n  position: relative;\r\n  width: 100%;\r\n}\r\n.layout-canvas-bg {\r\n  position: absolute;\r\n  background-size: contain;\r\n  background-position: center;\r\n  width: 100%;\r\n  height: 100%;\r\n  left: 0;\r\n  top: 0;\r\n  opacity: 0.3;\r\n  pointer-events: none;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Layout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Layout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Layout.vue?vue&type=template&id=b86eeaf8&scoped=true&\"\nimport script from \"./Layout.vue?vue&type=script&lang=js&\"\nexport * from \"./Layout.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Layout.vue?vue&type=style&index=0&id=b86eeaf8&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b86eeaf8\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <!-- <section>\r\n      <v-container>\r\n        <h3>Presets</h3>\r\n        <v-btn> 0-45-90 </v-btn>\r\n        <v-btn> 60-60-60 </v-btn>\r\n      </v-container>\r\n    </section> -->\r\n    <section>\r\n      <v-container>\r\n        <v-card>\r\n          <v-card-title>Basic Settings</v-card-title>\r\n          <v-card-text>\r\n            <!-- <p>\r\n              Use the settings bellow to configure the AR device, the working\r\n              wavelength is {{ props.wavelength }} nano meters. Due to the\r\n              refractive index of {{ props.material }} of the waveguide, the\r\n              critical angle of total internal reflection is calculated to be\r\n              {{ TIR }} radians, and is denoted by the inner circle of the\r\n              K-Space figure. The diagonal field of view (FOV) is\r\n              {{ props.FOV }} degrees, with screen aspect ratio of\r\n              {{ props.aspect[0] }} : {{ props.aspect[1] }}. Therfore, the\r\n              incident k-vectors are know and is denoted by the gray area in the\r\n              center of the k-space figure.\r\n            </p> -->\r\n            <v-row class=\"my-0\">\r\n              <v-col cols=\"6\" md=\"2\" class=\"py-0\">\r\n                <v-text-field\r\n                  label=\"Wavelength\"\r\n                  suffix=\"nm\"\r\n                  v-model.number=\"props.wavelength\"\r\n                ></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"6\" md=\"2\" class=\"py-0\">\r\n                <v-text-field\r\n                  label=\"Refractive Index\"\r\n                  v-model.number=\"props.material\"\r\n                ></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"12\" sm=\"6\" md=\"5\" class=\"py-0\">\r\n                <v-slider\r\n                  label=\"FOV\"\r\n                  v-model=\"props.FOV\"\r\n                  min=\"0\"\r\n                  max=\"150\"\r\n                  tick=\"1\"\r\n                  thumb-label\r\n                >\r\n                  <template v-slot:append>\r\n                    <v-text-field\r\n                      dense\r\n                      v-model.number=\"props.FOV\"\r\n                      class=\"mt-0 pt-0\"\r\n                      suffix=\"degrees\"\r\n                    ></v-text-field>\r\n                  </template>\r\n                </v-slider>\r\n              </v-col>\r\n              <v-col cols=\"12\" sm=\"6\" md=\"3\" class=\"py-0\">\r\n                <v-row>\r\n                  <v-col>\r\n                    <v-text-field\r\n                      label=\"Aspect\"\r\n                      v-model.number=\"props.aspect[0]\"\r\n                    ></v-text-field>\r\n                  </v-col>\r\n                  <v-col>\r\n                    <v-text-field\r\n                      v-model.number=\"props.aspect[1]\"\r\n                    ></v-text-field>\r\n                  </v-col>\r\n                </v-row>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row class=\"my-n4\">\r\n              <v-col cols=\"12\" sm=\"6\" class=\"py-0\">\r\n                <v-slider\r\n                  label=\"x offset\"\r\n                  dense\r\n                  v-model=\"props.offset[0]\"\r\n                  min=\"-1\"\r\n                  max=\"1\"\r\n                  step=\"0.1\"\r\n                  thumb-label\r\n                >\r\n                  <template v-slot:append>\r\n                    <v-text-field\r\n                      dense\r\n                      v-model.number=\"props.offset[0]\"\r\n                      class=\"mt-0 pt-0\"\r\n                      style=\"width: 60px\"\r\n                    ></v-text-field>\r\n                  </template>\r\n                </v-slider>\r\n              </v-col>\r\n              <v-col cols=\"12\" sm=\"6\" class=\"py-0\">\r\n                <v-slider\r\n                  label=\"y offset\"\r\n                  dense\r\n                  v-model=\"props.offset[1]\"\r\n                  min=\"-1\"\r\n                  max=\"1\"\r\n                  step=\"0.1\"\r\n                >\r\n                  <template v-slot:append>\r\n                    <v-text-field\r\n                      dense\r\n                      v-model.number=\"props.offset[1]\"\r\n                      class=\"mt-0 pt-0\"\r\n                      thumb-label\r\n                      style=\"width: 60px\"\r\n                    ></v-text-field>\r\n                  </template>\r\n                </v-slider>\r\n              </v-col>\r\n            </v-row>\r\n          </v-card-text>\r\n        </v-card>\r\n      </v-container>\r\n    </section>\r\n    <section>\r\n      <v-container>\r\n        <v-row>\r\n          <v-col sm=\"6\">\r\n            <v-card>\r\n              <v-card-title>K Space </v-card-title>\r\n              <v-card-text>\r\n                <p>Drag to modify grating parameters.</p>\r\n              </v-card-text>\r\n              <KSpace\r\n                :g1.sync=\"props.g1\"\r\n                :g3.sync=\"props.g3\"\r\n                :k0=\"k0\"\r\n                :k1=\"k1\"\r\n                :k2=\"k2\"\r\n                :k3=\"k3\"\r\n                :material=\"props.material\"\r\n              ></KSpace>\r\n\r\n              <v-card-text>\r\n                <div>\r\n                  <v-row>\r\n                    <v-col cols=\"2\"></v-col>\r\n                    <v-col><v-label>Period</v-label></v-col>\r\n                    <v-col><v-label>Angle</v-label></v-col>\r\n                  </v-row>\r\n\r\n                  <v-row class=\"mt-n4\">\r\n                    <v-col cols=\"2\" class=\"text-right mt-1\">\r\n                      <v-label> In </v-label>\r\n                    </v-col>\r\n                    <v-col>\r\n                      <v-text-field\r\n                        dense\r\n                        v-model.number=\"g1_period\"\r\n                        class=\"ma-0 pa-0\"\r\n                        @change=\"grating_period_update('g1', $event)\"\r\n                      ></v-text-field>\r\n                    </v-col>\r\n                    <v-col>\r\n                      <v-text-field\r\n                        dense\r\n                        v-model.number=\"g1_angle\"\r\n                        class=\"ma-0 pa-0\"\r\n                        @change=\"grating_angle_update('g1', $event)\"\r\n                      ></v-text-field>\r\n                    </v-col>\r\n                  </v-row>\r\n\r\n                  <v-row class=\"mt-n8\">\r\n                    <v-col cols=\"2\" class=\"text-right mt-1\">\r\n                      <v-label> EPE </v-label>\r\n                    </v-col>\r\n\r\n                    <v-col>\r\n                      <v-text-field\r\n                        dense\r\n                        v-model.number=\"g2_period\"\r\n                        class=\"ma-0 pa-0\"\r\n                        readonly\r\n                      ></v-text-field>\r\n                    </v-col>\r\n                    <v-col>\r\n                      <v-text-field\r\n                        dense\r\n                        v-model.number=\"g2_angle\"\r\n                        class=\"ma-0 pa-0\"\r\n                        readonly\r\n                      ></v-text-field>\r\n                    </v-col>\r\n                  </v-row>\r\n\r\n                  <v-row class=\"mt-n8\">\r\n                    <v-col cols=\"2\" class=\"text-right mt-1\">\r\n                      <v-label> Out </v-label>\r\n                    </v-col>\r\n\r\n                    <v-col>\r\n                      <v-text-field\r\n                        dense\r\n                        v-model.number=\"g3_period\"\r\n                        class=\"ma-0 pa-0\"\r\n                        @change=\"grating_period_update('g3', $event)\"\r\n                      ></v-text-field>\r\n                    </v-col>\r\n                    <v-col>\r\n                      <v-text-field\r\n                        dense\r\n                        v-model.number=\"g3_angle\"\r\n                        class=\"ma-0 pa-0\"\r\n                        @change=\"grating_angle_update('g3', $event)\"\r\n                      ></v-text-field>\r\n                    </v-col>\r\n                  </v-row>\r\n                </div>\r\n                <p>Note: EPE parameters are automatically calculated.</p>\r\n              </v-card-text>\r\n            </v-card>\r\n          </v-col>\r\n          <v-col sm=\"6\">\r\n            <v-card>\r\n              <v-card-title> Layout </v-card-title>\r\n              <v-card-text>\r\n                <p>Drag to modify layout placement.</p>\r\n              </v-card-text>\r\n              <Layout\r\n                :in_pos.sync=\"props.in_pos\"\r\n                :in_size.sync=\"props.in_size\"\r\n                :in_shape1=\"in_shape1\"\r\n                :in_shape2=\"in_shape2\"\r\n                :out_pos.sync=\"props.out_pos\"\r\n                :out_size.sync=\"props.out_size\"\r\n                :out_shape1=\"out_shape1\"\r\n                :out_shape2=\"out_shape2\"\r\n                :epe_shape=\"epe_shape\"\r\n                :background_image=\"background_image\"\r\n              ></Layout>\r\n              <v-card-text>\r\n                <div>\r\n                  <v-row>\r\n                    <v-col cols=\"2\"></v-col>\r\n                    <v-col><v-label>x</v-label></v-col>\r\n                    <v-col><v-label>y</v-label></v-col>\r\n                    <v-col><v-label>z</v-label></v-col>\r\n                  </v-row>\r\n                  <v-row class=\"mt-n4\">\r\n                    <v-col cols=\"2\" class=\"text-right mt-1\"\r\n                      ><v-label>In</v-label></v-col\r\n                    >\r\n                    <v-col>\r\n                      <v-text-field\r\n                        dense\r\n                        class=\"ma-0 pa-0\"\r\n                        v-model.number=\"props.in_pos[0]\"\r\n                      >\r\n                      </v-text-field>\r\n                    </v-col>\r\n                    <v-col>\r\n                      <v-text-field\r\n                        dense\r\n                        class=\"ma-0 pa-0\"\r\n                        v-model.number=\"props.in_pos[1]\"\r\n                      >\r\n                      </v-text-field>\r\n                    </v-col>\r\n                    <v-col>\r\n                      <v-text-field\r\n                        dense\r\n                        class=\"ma-0 pa-0\"\r\n                        v-model.number=\"props.in_displace\"\r\n                      >\r\n                      </v-text-field>\r\n                    </v-col>\r\n                  </v-row>\r\n                  <v-row class=\"mt-n8\">\r\n                    <v-col cols=\"2\" class=\"text-right mt-1\"\r\n                      ><v-label>Out</v-label></v-col\r\n                    >\r\n                    <v-col>\r\n                      <v-text-field\r\n                        dense\r\n                        class=\"ma-0 pa-0\"\r\n                        v-model.number=\"props.out_pos[0]\"\r\n                      >\r\n                      </v-text-field>\r\n                    </v-col>\r\n                    <v-col>\r\n                      <v-text-field\r\n                        dense\r\n                        class=\"ma-0 pa-0\"\r\n                        v-model.number=\"props.out_pos[1]\"\r\n                      >\r\n                      </v-text-field>\r\n                    </v-col>\r\n                    <v-col>\r\n                      <v-text-field\r\n                        dense\r\n                        class=\"ma-0 pa-0\"\r\n                        v-model.number=\"props.out_displace\"\r\n                      >\r\n                      </v-text-field>\r\n                    </v-col>\r\n                  </v-row>\r\n                  <v-row class=\"mt-n4\">\r\n                    <v-col>\r\n                      <v-row class=\"mt-n4\">\r\n                        <v-col>\r\n                          <v-select\r\n                            :items=\"shape_types\"\r\n                            label=\"In shape\"\r\n                            dense\r\n                            v-model=\"props.in_shape_type\"\r\n                          ></v-select>\r\n                        </v-col>\r\n                      </v-row>\r\n                      <v-row class=\"mt-n4\">\r\n                        <v-col>\r\n                          <v-text-field\r\n                            dense\r\n                            label=\"width\"\r\n                            class=\"ma-0 pa-0\"\r\n                            v-model.number=\"props.in_size[0]\"\r\n                          >\r\n                          </v-text-field>\r\n                        </v-col>\r\n                        <v-col>\r\n                          <v-text-field\r\n                            dense\r\n                            label=\"height\"\r\n                            class=\"ma-0 pa-0\"\r\n                            v-model.number=\"props.in_size[1]\"\r\n                          >\r\n                          </v-text-field>\r\n                        </v-col>\r\n                      </v-row>\r\n                    </v-col>\r\n                    <v-col>\r\n                      <v-row class=\"mt-n4\">\r\n                        <v-col>\r\n                          <v-select\r\n                            :items=\"shape_types\"\r\n                            label=\"Out shape\"\r\n                            dense\r\n                            v-model=\"props.out_shape_type\"\r\n                          ></v-select> </v-col\r\n                      ></v-row>\r\n                      <v-row class=\"mt-n4\">\r\n                        <v-col>\r\n                          <v-text-field\r\n                            dense\r\n                            label=\"width\"\r\n                            class=\"ma-0 pa-0\"\r\n                            v-model.number=\"props.out_size[0]\"\r\n                          >\r\n                          </v-text-field>\r\n                        </v-col>\r\n                        <v-col>\r\n                          <v-text-field\r\n                            dense\r\n                            label=\"height\"\r\n                            class=\"ma-0 pa-0\"\r\n                            v-model.number=\"props.out_size[1]\"\r\n                          >\r\n                          </v-text-field>\r\n                        </v-col>\r\n                      </v-row>\r\n                    </v-col>\r\n                  </v-row>\r\n                </div>\r\n              </v-card-text>\r\n            </v-card>\r\n          </v-col>\r\n        </v-row>\r\n      </v-container>\r\n    </section>\r\n    <section>\r\n      <v-container>\r\n        <v-card>\r\n          <v-card-title> Customization </v-card-title>\r\n          <v-card-text>\r\n            <v-row>\r\n              <v-col>\r\n                <v-file-input\r\n                  label=\"Background Image\"\r\n                  dense\r\n                  @change=\"update_background_image\"\r\n                ></v-file-input>\r\n              </v-col>\r\n            </v-row>\r\n          </v-card-text>\r\n        </v-card>\r\n      </v-container>\r\n    </section>\r\n    <section>\r\n      <v-container>\r\n        <v-card>\r\n          <v-card-title> Parameters </v-card-title>\r\n          <v-card-text>\r\n            <template v-for=\"prop in Object.keys(props)\">\r\n              <v-row :key=\"prop\" class=\"mt-n4\">\r\n                <v-col cols=\"4\" sm=\"3\" class=\"text-right\">\r\n                  <label :for=\"prop\">{{ prop }}: </label>\r\n                </v-col>\r\n                <v-col>\r\n                  <template v-if=\"isArray(props[prop])\">\r\n                    <span v-for=\"(item, i) in props[prop]\" :key=\"i\">\r\n                      <input\r\n                        :name=\"prop\"\r\n                        type=\"text\"\r\n                        v-model.number=\"props[prop][i]\"\r\n                      />\r\n                    </span>\r\n                  </template>\r\n                  <template v-else>\r\n                    <input\r\n                      :name=\"prop\"\r\n                      type=\"text\"\r\n                      v-model.number=\"props[prop]\"\r\n                    />\r\n                  </template>\r\n                </v-col>\r\n              </v-row>\r\n            </template>\r\n          </v-card-text>\r\n        </v-card>\r\n      </v-container>\r\n    </section>\r\n    <!-- <section>\r\n      <v-container>\r\n        <h3>Computed Value</h3>\r\n        <br />\r\n        <p>Critical Angle: {{ (TIR / Math.PI) * 180 }} degrees</p>\r\n        <p>g2: {{ g2 }}</p>\r\n      </v-container>\r\n    </section> -->\r\n\r\n    <div hidden>\r\n      {{ epe_shape_prop }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport KSpace from \"./KSpace.vue\";\r\nimport Layout from \"./Layout.vue\";\r\nimport { single_promise, throttle } from \"./lib/throttle\";\r\nimport { mag } from \"./lib/geo\";\r\nimport { diffraction, k1, trace_EPE } from \"./lib/layout\";\r\nimport { circular, rectangular } from \"./lib/shape\";\r\n\r\nconst g0 = (Math.PI * 2) / 394;\r\n\r\nexport default {\r\n  name: \"HelloWorld\",\r\n  components: {\r\n    KSpace,\r\n    Layout,\r\n  },\r\n  props: {},\r\n  data() {\r\n    return {\r\n      props: {\r\n        // waveguide\r\n        wavelength: 530,\r\n        material: 1.827,\r\n\r\n        // screen\r\n        FOV: 40,\r\n        aspect: [4, 3],\r\n        offset: [0, 0],\r\n\r\n        // kspace\r\n        g1: [g0, 0],\r\n        g3: [0, -g0],\r\n\r\n        // layout\r\n        in_size: [4, 4],\r\n        in_displace: 0,\r\n        in_pos: [-25, -15],\r\n        in_shape_type: \"circle\",\r\n        out_size: [16, 16],\r\n        out_displace: 20,\r\n        out_pos: [5, 15],\r\n        out_shape_type: \"circle\",\r\n      },\r\n      epe_shape: [[0], [0]],\r\n      in_shape2: [[0], [0]],\r\n      out_shape2: [[0], [0]],\r\n      shape_types: [\"circle\", \"rectangle\"],\r\n      background_image: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    isArray(a) {\r\n      return a instanceof Array;\r\n    },\r\n    grating_period_update(id, value) {\r\n      if (isNaN(value)) value = 0;\r\n\r\n      if (value != 0) {\r\n        let s = (Math.PI * 2) / value / mag(this.props[id]);\r\n        this.props[id][0] *= s;\r\n        this.props[id][1] *= s;\r\n        this.props[id].__ob__.dep.notify();\r\n      }\r\n    },\r\n\r\n    grating_angle_update(id, value) {\r\n      if (isNaN(value)) value = 0;\r\n      let s = mag(this.props[id]);\r\n      this.props[id][0] = Math.cos((value * Math.PI) / 180) * s;\r\n      this.props[id][1] = Math.sin((value * Math.PI) / 180) * s;\r\n      this.props[id].__ob__.dep.notify();\r\n    },\r\n\r\n    update_epe: throttle(\r\n      single_promise(async function () {\r\n        const vm = this;\r\n        const [in_shape2, epe_shape, out_shape2] = await trace_EPE(\r\n          ...arguments\r\n        );\r\n        vm.in_shape2 = in_shape2;\r\n        vm.epe_shape = epe_shape;\r\n        vm.out_shape2 = out_shape2;\r\n        this.report();\r\n        return 0;\r\n      }),\r\n      1\r\n    ),\r\n\r\n    report: throttle(function () {\r\n      window.dataLayer.push({\r\n        event: \"interact\",\r\n        props: this.props,\r\n      });\r\n    }, 10 * 1000),\r\n\r\n    update_background_image(file) {\r\n      if (file) {\r\n        let reader = new FileReader();\r\n        let vm = this;\r\n        reader.onloadend = function () {\r\n          vm.background_image = reader.result;\r\n          console.log(reader.result);\r\n          window.dataLayer.push({\r\n            event: \"interact\",\r\n            filename: file.name,\r\n          });\r\n        };\r\n        reader.readAsDataURL(file);\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    // Kspace basics\r\n    k0() {\r\n      return (Math.PI * 2) / this.props.wavelength;\r\n    },\r\n    k1() {\r\n      return k1(\r\n        this.k0,\r\n        (this.props.FOV / 180) * Math.PI,\r\n        ...this.props.offset,\r\n        ...this.props.aspect\r\n      ).arraySync();\r\n    },\r\n\r\n    k2() {\r\n      return diffraction(this.k1, this.props.g1).arraySync();\r\n    },\r\n\r\n    k3() {\r\n      return diffraction(this.k2, this.g2).arraySync();\r\n    },\r\n\r\n    TIR() {\r\n      return Math.asin(1 / this.props.material);\r\n    },\r\n\r\n    // Gratings\r\n    g2() {\r\n      return [\r\n        -this.props.g1[0] - this.props.g3[0],\r\n        -this.props.g1[1] - this.props.g3[1],\r\n      ];\r\n    },\r\n\r\n    g1_period: {\r\n      get() {\r\n        return (Math.PI * 2) / mag(this.props.g1);\r\n      },\r\n      set() {},\r\n    },\r\n    g1_angle: {\r\n      get() {\r\n        return (Math.atan2(this.props.g1[1], this.props.g1[0]) * 180) / Math.PI;\r\n      },\r\n      set() {},\r\n    },\r\n\r\n    g2_period: {\r\n      get() {\r\n        return (Math.PI * 2) / mag(this.g2);\r\n      },\r\n      set() {},\r\n    },\r\n    g2_angle: {\r\n      get() {\r\n        return (Math.atan2(this.g2[1], this.g2[0]) * 180) / Math.PI;\r\n      },\r\n      set() {},\r\n    },\r\n\r\n    g3_period: {\r\n      get() {\r\n        return (Math.PI * 2) / mag(this.props.g3);\r\n      },\r\n      set() {},\r\n    },\r\n    g3_angle: {\r\n      get() {\r\n        return (Math.atan2(this.props.g3[1], this.props.g3[0]) * 180) / Math.PI;\r\n      },\r\n      set() {},\r\n    },\r\n\r\n    in_shape1() {\r\n      if (this.props.in_shape_type == \"circle\")\r\n        return circular(0, 0, ...this.props.in_size, 32).arraySync();\r\n      return rectangular(0, 0, ...this.props.in_size, 1).arraySync();\r\n    },\r\n    out_shape1() {\r\n      if (this.props.out_shape_type == \"circle\")\r\n        return circular(0, 0, ...this.props.out_size, 32).arraySync();\r\n      return rectangular(0, 0, ...this.props.out_size, 1).arraySync();\r\n    },\r\n\r\n    epe_shape_prop() {\r\n      this.update_epe(\r\n        this.props.in_pos,\r\n        this.in_shape1,\r\n        this.props.in_displace,\r\n        this.props.out_pos,\r\n        this.out_shape1,\r\n        this.props.out_displace,\r\n        this.k0,\r\n        this.k1,\r\n        this.k2,\r\n        this.k3\r\n      );\r\n      return 0;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n</style>\r\n\r\n\r\n      ","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Main.vue?vue&type=template&id=3b1a8a10&scoped=true&\"\nimport script from \"./Main.vue?vue&type=script&lang=js&\"\nexport * from \"./Main.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b1a8a10\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VFileInput } from 'vuetify/lib/components/VFileInput';\nimport { VLabel } from 'vuetify/lib/components/VLabel';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VCard,VCardText,VCardTitle,VCol,VContainer,VFileInput,VLabel,VRow,VSelect,VSlider,VTextField})\n","<template>\r\n  <div id=\"app\">\r\n    <v-app>\r\n      <header>\r\n        <v-container>\r\n          <v-row>\r\n            <v-col cols=\"12\" md=\"8\">\r\n              <h1>\r\n                Compact design principle for diffractive exit-pupil expander in\r\n                AR near-eye system\r\n              </h1>\r\n              <br />\r\n              <h3>2021 SPIE. AR|VR|MR</h3>\r\n            </v-col>\r\n            <v-spacer> </v-spacer>\r\n            <v-col>\r\n              <h2 class=\"lab-name\">Modern Nanophotonics Lab</h2>\r\n            </v-col>\r\n          </v-row>\r\n        </v-container>\r\n      </header>\r\n\r\n      <section>\r\n        <v-container>\r\n          <v-card>\r\n            <v-card-title>Interactive Application</v-card-title>\r\n            <v-card-text>\r\n              <div class=\"names\">\r\n                <span>Po-Han Chiu<sup>*a</sup></span>\r\n                <span>Ting-Wei Huang<sup>a</sup></span>\r\n                <span>Yun-Shou Hsu<sup>a</sup></span>\r\n                <span>Bo-Kai Zhang<sup>a</sup></span>\r\n                <span>Szu-Ta Chien<sup>a</sup></span>\r\n                <span>Wen-Chang Hung<sup>b</sup></span>\r\n                <span>Chien-Yi Huang<sup>b</sup></span>\r\n                <span>Yu-Chieh Cheng<sup>a</sup></span>\r\n              </div>\r\n              <div>\r\n                <p>\r\n                  <sup>a</sup>National Taipei University of Technology, No. 1,\r\n                  Section 3, Zhongxiao East Road, Da'an Dist., Taipei, 10608,\r\n                  Taiwan<br />\r\n                  <sup>b</sup>ASUSTeK COMPUTER INC, No. 115, Li-De Rd., Beitou\r\n                  Dist., Taipei 112019, Taiwan\r\n                </p>\r\n              </div>\r\n            </v-card-text>\r\n            <v-divider class=\"mx-4\"> </v-divider>\r\n            <v-card-text>\r\n              <h3>Abstract</h3>\r\n              <p>\r\n                For a diffractive waveguide-based augmented reality display, we\r\n                demonstrate a rapid and straightforward method to define the\r\n                most compact layout of an exit pupil expander (EPE) from an\r\n                analysis of diffractive optical elements in k-space. The idea is\r\n                to consider all k-vectors coming from in-coupling to\r\n                out-coupling areas according to the grating theory, and with the\r\n                geometrical tracing of the EPE region to find the optimal\r\n                layout. For a working wavelength of 532 nm, 40 degrees field of\r\n                view display, our method is able to fit the layout into a\r\n                circular shaped area with a minimal radius or to optimize for\r\n                the minimal EPE area. Furthermore, a web-based interactive\r\n                application demonstrating the EPE layout calculation is provided\r\n                as a layout design tool.\r\n              </p>\r\n              <p>\r\n                <strong>Keywords:</strong> Near-eye display, Waveguide,\r\n                Augmented Reality, Exit-Pupil Expander, Diffractive Optical\r\n                Elements.\r\n              </p>\r\n            </v-card-text>\r\n          </v-card>\r\n        </v-container>\r\n      </section>\r\n\r\n      <Main />\r\n\r\n      <footer>\r\n        <v-container>\r\n          <v-row>\r\n            <v-col>\r\n              <p>\r\n                Web Designer/Developer: <a style=\"color:white\" href=\"https://chiuhans111.github.io/\">Hans Chiu (Po-Han Chiu)</a>\r\n                <br />\r\n                Email: t110658013@ntut.org.tw\r\n              </p>\r\n              <p>Developed with: Vue, Vuetify, Fabric, TensorFlow</p>\r\n            </v-col>\r\n            <v-col>\r\n              <p>\r\n                This project is aimed to give readers a interactive way to\r\n                understand the principle behind waveguide based AR glasses.\r\n              </p>\r\n\r\n              <p>© 2021 TaipeiTech</p>\r\n            </v-col>\r\n          </v-row>\r\n        </v-container>\r\n      </footer>\r\n    </v-app>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Main from \"./components/Main.vue\";\r\n\r\nexport default {\r\n  name: \"App\",\r\n  components: {\r\n    Main,\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" >\r\n#app {\r\n  font-family: Arial, sans-serif;\r\n  background-color: #e3f2fd;\r\n}\r\nheader {\r\n  padding-top: 30px;\r\n  margin-bottom: 10px;\r\n  background-color: white;\r\n}\r\nfooter {\r\n  margin-top: 30px;\r\n  padding: 30px 0;\r\n  background-color: #0069c0;\r\n  color: white;\r\n}\r\n.lab-name {\r\n  text-align: right;\r\n  padding-top: 20px;\r\n  line-height: 100%;\r\n}\r\n.names {\r\n  margin: 0 -10px;\r\n  span {\r\n    margin: 0 10px;\r\n    display: inline-block;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=cfbf58b4&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=cfbf58b4&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VApp,VCard,VCardText,VCardTitle,VCol,VContainer,VDivider,VRow,VSpacer})\n","import Vue from 'vue';\r\nimport Vuetify from 'vuetify';\r\nimport 'vuetify/dist/vuetify.min.css'\r\n\r\nVue.use(Vuetify);\r\n\r\nexport default new Vuetify({\r\n});\r\n","\r\nimport Vue from 'vue'\r\nimport App from './App.vue'\r\nimport vuetify from './plugins/vuetify'\r\nimport \"./style/index.scss\"\r\n\r\n\r\nVue.config.productionTip = false\r\n\r\n\r\n\r\nnew Vue({\r\n  vuetify,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdD = function () {\n\tthrow new Error('define cannot be used indirect');\n};","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkar_demo_app\"] = self[\"webpackChunkar_demo_app\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(3216); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","staticClass","staticStyle","staticRenderFns","model","value","props","callback","$$v","$set","_n","expression","scopedSlots","_u","key","fn","proxy","aspect","offset","g1","g3","k0","k1","k2","k3","material","on","$event","grating_period_update","g1_period","grating_angle_update","g1_angle","g2_period","g2_angle","g3_period","g3_angle","in_pos","in_size","in_shape1","in_shape2","out_pos","out_size","out_shape1","out_shape2","epe_shape","background_image","shape_types","update_background_image","_l","Object","keys","prop","_s","isArray","item","i","directives","name","rawName","modifiers","domProps","target","composing","$forceUpdate","epe_shape_prop","ref","g1_props","g3_props","points","circle_props","data","canvas","alive","mounted","fabric","$refs","window","addEventListener","resize_event","resize","destroyed","dispose","removeEventListener","methods","updatePolygon","polygon","width","height","left","top","_calcDimensions","nwidth","Math","max","abs","nheight","set","setCoords","throttle","delay","last_call","timer_id","last_output","throttled","ctx","args","arguments","now","Date","getTime","clearTimeout","apply","setTimeout","single_promise","call_id","busy","single","Promise","done","then","finally","magsq","vec","s","v","mag","sqrt","tf","fov","offset_x","offset_y","aspect_x","aspect_y","diagonal","z","tan","dx","dy","rectangular","div","pow","sum","add","mul","diffraction","k","g","average_angle","angle","axis","x","y","extreme_angle","normalized_angle","sub","PI","mod","id_max","arraySync","id_min","kz","k_normz","extremum","values","trace_EPE","async","in_shape","in_displace","out_shape","out_displace","din","dout","d_in_pos","d_out_pos","dd","k2p","k3p","intersect","exk3","expandDims","exk2","k21","gather","k22","k31","k32","convhullshape","array","convshape","w","h","samples","d","fd","reverse","slice","o","no","px","py","circular","a","shape2points","shape","scale","length","push","span_extreme_points","cross","b","convhull","p","sort","U","L","pop","concat","shape_tensor","index","shape1","shape2","A","B","reshape","component","style","backgroundImage","in_props","out_props","epe_props","g0","VCard","VApp","Vue","Vuetify","vuetify","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","id","loaded","__webpack_modules__","call","m","amdD","Error","amdO","deferred","O","result","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","every","splice","r","n","getter","__esModule","definition","defineProperty","enumerable","get","globalThis","Function","e","obj","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}